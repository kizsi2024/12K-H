(self.webpackChunktrello_client=self.webpackChunktrello_client||[]).push([[70128],{"./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js":(e,t,r)=>{"use strict";r.d(t,{fg:()=>g,B:()=>b});var n,s,o=!((null==globalThis||null===(n=globalThis.process)||void 0===n||null===(n=n.env)||void 0===n?void 0:n.JEST_WORKER_ID)!==void 0)&&(null==globalThis||null===(s=globalThis.process)||void 0===s||null===(s=s.env)||void 0===s?void 0:s.NODE_ENV)!=="production",i=function(){var e;o&&(e=console).debug.apply(e,arguments)},a=r("./node_modules/process/browser.js"),c="__PLATFORM_FEATURE_FLAGS__",l=void 0!==a&&void 0!==a.env,u=!!l&&"true"===a.env.ENABLE_PLATFORM_FF,d=!!l&&"true"===a.env.STORYBOOK_ENABLE_PLATFORM_FF,m=u||d,p={earlyResolvedFlags:new Map,booleanResolver:function(e){return!1}},h="undefined"!=typeof window?window:globalThis;function f(e){if(m)return i('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',"@atlaskit/platform-feature-flags",e),!0;try{var t,r=null===(t=h[c])||void 0===t?void 0:t.booleanResolver(e);if("boolean"!=typeof r)return console.warn("".concat(e," resolved to a non-boolean value, returning false for safety")),!1;return r}catch(e){return!1}}function b(e){return f(e)}function g(e){return f(e)}h[c]=h[c]||p},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js":(e,t,r)=>{"use strict";r.d(t,{IC:()=>N,vr:()=>R,ff:()=>M,oG:()=>U,rY:()=>L});var n,s,o=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js"),a=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),u=r("./node_modules/process/browser.js"),d=null!==(n=null==u?void 0:u.env._PACKAGE_NAME_)&&void 0!==n?n:"",m=null!==(s=null==u?void 0:u.env._PACKAGE_VERSION_)&&void 0!==s?s:"",p=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),h=r("./node_modules/@babel/runtime/regenerator/index.js"),f=r.n(h),b=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),g=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),y=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),v=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),w=new(function(){function e(){(0,y.A)(this,e)}return(0,v.A)(e,[{key:"cachedSamplingConfig",get:function(){return this.cache},set:function(e){this.cache=e}}]),e}()),C=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),_=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/load-storage-controls-data-legacy/index.js"),A={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1,usedAtlBrowserStorageGetItem:100,usedAtlBrowserStorageGetItemError:1,usedAtlBrowserStorageSetItem:100,usedAtlBrowserStorageSetItemError:1,usedAtlBrowserStorageSetStrictlyNecessaryItem:100,usedAtlBrowserStorageSetStrictlyNecessaryItemError:1,usedCheckIfSetByPackageError:1,renderConsentBannerError:1,bannerAppearanceAfterDismissal:1},O=["loadStorageControlsError"];function k(){return(k=(0,p.A)(f().mark(function e(){var t,r,n,s,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.cachedSamplingConfig){e.next=2;break}return e.abrupt("return",w.cachedSamplingConfig);case 2:if(!(0,C.f)()){e.next=4;break}return e.abrupt("return",void 0);case 4:if(!(0,b.fg)("platform_moonjelly_bsc_new_caches")){e.next=14;break}return t=(0,c.re)().loadCache,e.next=8,t(g.kU.Cookies);case 8:return n=null==(r=e.sent)?void 0:r.analyticsSamplingRatio,w.cachedSamplingConfig=n,e.abrupt("return",n);case 14:return e.next=16,(0,_.YV)();case 16:return o=null==(s=e.sent)?void 0:s.analyticsSamplingRatio,w.cachedSamplingConfig=o,e.abrupt("return",o);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=(0,p.A)(f().mark(function e(t){var r,n,s;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.includes(t)){e.next=2;break}return e.abrupt("return",A[t]);case 2:return e.next=4,function(){return k.apply(this,arguments)}();case 4:return s=(null==(n=null!=(r=e.sent)?r:A)?void 0:n[t])!==void 0?n[t]:A[t],e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=(0,p.A)(f().mark(function e(t,r){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return E.apply(this,arguments)}(t);case 2:Math.floor(Math.random()*e.sent)||r();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=function(){var e=window.location.hostname;return e.includes(".dev.")||e.includes(".stg.")?i.sR.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?i.sR.DEV:i.sR.PROD},P=function(e){var t="";if(!e)return t;var r=function(t){return new RegExp("^".concat(t,"(/|$)")).test(String(e))};return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t},x=function(){var e=window.location,t=e.origin,r=P(e.pathname),n="".concat(t).concat(r),s=("https://trello.com"===n?"trello":null)||r.slice(1);return{domain:n,product:s}},D=function(e){var t,r,n=x(),s=n.domain,o=n.product;return j({packageName:d,packageVersion:m,domain:s,product:null!==(t=null===(r=(0,c.re)().product)||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:o},e&&e)},N=function(){var e;return function(){try{!e&&(0,c.re)().analyticsEnabled&&(e=new a.A({env:T(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){l.V.error("Failed to initialize AnalyticsWebClient. ".concat(e))}if((0,c.re)().analyticsEnabled)return e}}();function R(e){!function(e,t){I.apply(this,arguments)}(e.action,function(){var t;return null===(t=N())||void 0===t?void 0:t.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:D(e.attributes)})})}function L(e){var t;null===(t=N())||void 0===t||t.sendUIEvent(j(j({},e),{},{attributes:D(e.attributes)}))}function M(e){var t;null===(t=N())||void 0===t||t.sendScreenEvent(j(j({},e),{},{attributes:D(e.attributes)}))}function U(e){var t;null===(t=N())||void 0===t||t.sendTrackEvent(j(j({},e),{},{attributes:D(e.attributes)}))}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js":(e,t,r)=>{"use strict";r.d(t,{re:()=>v,B_:()=>w});var n,s,o,i,a,c,l,u=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=r("./node_modules/@babel/runtime/regenerator/index.js"),m=r.n(d),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),h=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),f=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),b=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),g=function(){var e,t;function r(e){switch((0,h.A)(this,r),e){case p.kU.Cookies:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_COOKIE.json";break;case p.kU.LocalStorage:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_LOCAL_STORAGE.json";break;case p.kU.SessionStorage:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_SESSION_STORAGE.json";break;default:this.cacheUrl="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json"}}return(0,f.A)(r,[{key:"clearStorageControlsDataCache",value:function(){this.localResponseCache=void 0,this.localResponsePromiseCache=void 0,this.localResponseJsonPromiseCache=void 0}},{key:"handleCategoriesResponse",value:(e=(0,u.A)(m().mark(function e(t){var r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Failed to fetch Cookies Cache! Cached promise was undefined");case 2:return e.next=4,t;case 4:if((r=e.sent).ok){e.next=7;break}throw Error("Failed to fetch Cookies Cache! status: ".concat(r.status));case 7:return this.localResponseJsonPromiseCache=this.localResponseJsonPromiseCache||(null==r?void 0:r.json()),e.abrupt("return",this.localResponseJsonPromiseCache);case 9:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"loadStorageControlsData",value:(t=(0,u.A)(m().mark(function e(){return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.localResponseCache){e.next=4;break}return e.abrupt("return",this.localResponseCache);case 4:return e.prev=4,this.localResponsePromiseCache||(this.localResponsePromiseCache=fetch(this.cacheUrl)),e.next=8,this.handleCategoriesResponse(this.localResponsePromiseCache);case 8:return this.localResponseCache=e.sent,e.abrupt("return",this.localResponseCache);case 12:e.prev=12,e.t0=e.catch(4),b.V.errorWithOperationalEvent({action:"loadStorageControlsError",message:e.t0.message||""}),this.clearStorageControlsDataCache();case 16:case"end":return e.stop()}},e,this,[[4,12]])})),function(){return t.apply(this,arguments)})}]),r}(),y=function(){var e=(0,u.A)(m().mark(function e(t){var r,n,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===p.kU.Cookies?3:e.t0===p.kU.LocalStorage?6:e.t0===p.kU.SessionStorage?9:12;break;case 3:return e.next=5,null===(r=a)||void 0===r?void 0:r.loadStorageControlsData();case 5:case 8:case 11:return e.abrupt("return",e.sent);case 6:return e.next=8,null===(n=c)||void 0===n?void 0:n.loadStorageControlsData();case 9:return e.next=11,null===(s=l)||void 0===s?void 0:s.loadStorageControlsData();case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e;return null==n&&(n=!0),i=null!==(e=i)&&void 0!==e&&e,{analyticsEnabled:n,product:s,webStorageEnabled:o,localConsentMode:i,cookiesCacheLoader:a,localStorageCacheLoader:c,sessionStorageCacheLoader:l,loadCache:y}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.analyticsEnabled,r=e.product,u=e.webStorageEnabled,d=e.localConsentMode;n=void 0===t||t,s=void 0===r?"NONE":r,o=void 0!==u&&u,i=void 0!==d&&d,a=new g(p.kU.Cookies),c=new g(p.kU.LocalStorage),l=new g(p.kU.SessionStorage)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js":(e,t,r)=>{"use strict";r.d(t,{J:()=>s,l:()=>n});var n=function(e){return Number(e).toString()},s=function(e){if(e)return!!Number(e)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js":(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var n=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js"),s=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),i=function(){var e="undefined"==typeof document||"undefined"==typeof window||!Document||!Document.prototype||!Object||!Object.defineProperty,t=!s.fg,r=!n.A;return e&&o.V.warn("Browser context is not available."),t&&o.V.warn("Platform Feature Flag library is not available"),n.A||o.V.warn("analytics-web-client is not available"),!!e||!!t||!!r}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js":(e,t,r)=>{"use strict";r.d(t,{XA:()=>_});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("./node_modules/@babel/runtime/regenerator/index.js"),i=r.n(o),a=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/load-storage-controls-data-legacy/index.js"),m=function(e,t){for(var r=t.startsWith,n=0;n<e.length;){var s=r[e[n]];if(void 0===s)break;if("number"==typeof s)return s;r=s,n++}return null},p=function(e,t,r){var n,o=null,i=t.categories,a=t.patterns,c=t.keys;o=e in Object(c)?c[e]:m(e,a);var u=(n={},(0,s.A)(n,i.STRICTLY_NECESSARY,l.A7.StrictlyNecessary),(0,s.A)(n,i.FUNCTIONAL,l.A7.Functional),(0,s.A)(n,i.ANALYTICS,l.A7.Analytics),(0,s.A)(n,i.MARKETING,l.A7.Marketing),(0,s.A)(n,i.UNKNOWN,l.A7.Unknown),n);return null!==o?u[o]:null},h=function(){var e=(0,n.A)(i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.YV)();case 2:if(n=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",p(t,n,r));case 8:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.A)(i().mark(function e(t){var r,n,s,o,a,u,d,m,p,f,b;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.itemKey,s=void 0===(n=t.allowedCallback)?function(){}:n,a=void 0===(o=t.blockedCallback)?function(){}:o,!((d=void 0===(u=t.cachedKeysDataProperty)?l.rR.Cookies:u)===l.rR.LocalStorage||d===l.rR.SessionStorage)){e.next=6;break}e.t0=l.A7.StrictlyNecessary,e.next=9;break;case 6:return e.next=8,h(r,d);case 8:e.t0=e.sent;case 9:if((p=e.t0)!==l.A7.StrictlyNecessary){e.next=14;break}m=!0,e.next=20;break;case 14:return e.next=16,(0,c.l)();case 16:f=e.sent,b=!1,f&&p&&(b=f[p]),m=b;case 20:return m?null==s||s():null==a||a({itemHasCategory:null!=p}),e.abrupt("return",m);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(e,t){for(var r=t,n=0;n<e.length;){var s=r[e[n]];if(void 0===s)break;if("number"==typeof s)return s;r=s,n++}return null},v=function(e,t){for(var r=0;r<e.length;){var n=function(e){for(var r,n=t,s="",o=0;o<e.length;o++){var i=e[o];if(void 0===(n=n[i]))break;if(s+=i,"number"==typeof n){r=n;break}}return s===e?r:void 0}(e.slice(r));if(void 0!==n)return n;r++}return null},w=function(e,t,r){var n,o=null,i=t.categories,a=t.patterns,c=g(g({},t.keys.all),r?t.keys[r]:{}),u=g(g({},a.startsWith.all),r?a.startsWith[r]:{}),d=g(g({},a.endsWith.all),r?a.endsWith[r]:{});Object.keys(c).includes(e)?o=c[e]:null===(o=y(e,u))&&(o=v(e,d));var m=(n={},(0,s.A)(n,i.STRICTLY_NECESSARY,l.A7.StrictlyNecessary),(0,s.A)(n,i.FUNCTIONAL,l.A7.Functional),(0,s.A)(n,i.ANALYTICS,l.A7.Analytics),(0,s.A)(n,i.MARKETING,l.A7.Marketing),(0,s.A)(n,i.UNKNOWN,l.A7.Unknown),n);return null!==o?m[o]:null},C=function(){var e=(0,n.A)(i().mark(function e(t,r,n){var s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.re)().loadCache(r);case 2:if(s=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",w(t,s,n));case 8:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.A)(i().mark(function e(t){var r,n,s,o,u,d,m,p,h,b,g;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.itemKey,s=void 0===(n=t.allowedCallback)?function(){}:n,u=void 0===(o=t.blockedCallback)?function(){}:o,d=t.storageType,m=t.productName,(0,a.fg)("platform_moonjelly_bsc_new_caches")){e.next=5;break}return e.next=4,f({itemKey:r,allowedCallback:s,blockedCallback:u});case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,C(r,d,m);case 7:if((h=e.sent)!==l.A7.StrictlyNecessary){e.next=12;break}p=!0,e.next=18;break;case 12:return e.next=14,(0,c.l)();case 14:b=e.sent,g=!1,b&&h&&(g=b[h]),p=g;case 18:return p?null==s||s():null==u||u({itemHasCategory:null!=h}),e.abrupt("return",p);case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/load-storage-controls-data-legacy/index.js":(e,t,r)=>{"use strict";r.d(t,{YV:()=>m});var n,s,o,i=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=r("./node_modules/@babel/runtime/regenerator/index.js"),c=r.n(a),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),u=function(){n=void 0,s=void 0,o=void 0},d=function(){var e=(0,i.A)(c().mark(function e(t){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Failed to fetch Cookies Cache! Cached promise was undefined");case 2:return e.next=4,t;case 4:if((r=e.sent).ok){e.next=7;break}throw Error("Failed to fetch Cookies Cache! status: ".concat(r.status));case 7:return o=o||(null==r?void 0:r.json()),e.abrupt("return",o);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.abrupt("return",n);case 4:return e.prev=4,s||(s=fetch("https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json")),e.next=8,d(s);case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(4),l.V.errorWithOperationalEvent({action:"loadStorageControlsError",message:e.t0.message||""}),u();case 16:case"end":return e.stop()}},e,null,[[4,12]])}));return function(){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js":(e,t,r)=>{"use strict";r.d(t,{V:()=>l});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c="[browser-storage-controls]",l=function(){function e(){(0,s.A)(this,e)}return(0,o.A)(e,null,[{key:"info",value:function(e,t){console.log("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}},{key:"error",value:function(e,t){console.error("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}},{key:"errorWithOperationalEvent",value:function(e){var t=e.action,r=e.attributes,s=e.message,o=e.metadata;try{(0,i.vr)({action:t,attributes:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({error:s},void 0===r?{}:r)})}catch(e){this.error("Failed to send operational event on error: ".concat(t,". ").concat(e.message||""))}this.error(s,o?JSON.stringify(o):"")}},{key:"warn",value:function(e,t){console.warn("".concat(c,": ").concat(e),t?JSON.stringify(t):"")}}]),e}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js":(e,t,r)=>{"use strict";r.d(t,{Ao:()=>g,Bk:()=>w,CK:()=>p,Iw:()=>f,OF:()=>u,PN:()=>h,bT:()=>d,dx:()=>y,gV:()=>b,oG:()=>v,sD:()=>C,vk:()=>m});var n,s,o,i=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u="atl-gdpr-consent",d="atl-bsc-consent-token",m="atl-bsc-show-banner",p="atl-bsc-consent-token-fallback",h="atl-testing-consents",f="atl-bsc-banner-dismissed-time",b=(n={},(0,i.A)(n,a.A7.StrictlyNecessary,!0),(0,i.A)(n,a.A7.Functional,!0),(0,i.A)(n,a.A7.Marketing,!0),(0,i.A)(n,a.A7.Analytics,!0),(0,i.A)(n,a.A7.Unknown,!0),n),g=(s={},(0,i.A)(s,a.A7.StrictlyNecessary,!0),(0,i.A)(s,a.A7.Functional,!1),(0,i.A)(s,a.A7.Marketing,!1),(0,i.A)(s,a.A7.Analytics,!1),(0,i.A)(s,a.A7.Unknown,!1),s),y=l(l({},g),{},(o={},(0,i.A)(o,a.RK.ConsentsAreDefault,!0),(0,i.A)(o,a.RK.UserIsAuthenticated,!1),(0,i.A)(o,a.RK.ConsentDataUnavailable,!0),o)),v="001",w="002",C="003"},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/delete-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{Y:()=>c});var n=r("./node_modules/js-cookie/src/js.cookie.js"),s=r.n(n),o=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),c=function(e,t){if((0,o.fg)("platform_moonjelly_bsc_master_killswitch"))s().remove(e,t);else try{(0,i.vr)({action:"usedDeleteCookie",attributes:{cookieKey:e}}),s().remove(e,t)}catch(t){a.V.errorWithOperationalEvent({action:"usedDeleteCookieError",attributes:{cookieKey:e},message:"Failed to use delete cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token/utils.js":(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js"),c=function(){var e=(0,n.A)(o().mark(function e(t){var r,n,s,c,l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fy)();case 2:return n=(r=e.sent).consentToken,s=r.consentTimestamp,c=r.consentHubInaccessible,(l=(0,a.Eu)(n).isValid)&&c&&(n=t||"".concat(n.slice(0,8),"1111")),e.abrupt("return",l?{consentToken:n,consentTimestamp:s}:void 0);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{R:()=>c});var n=r("./node_modules/js-cookie/src/js.cookie.js"),s=r.n(n),o=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js");function c(e){if((0,o.fg)("platform_moonjelly_bsc_master_killswitch"))return e?s().get(e):s().get();try{return(0,i.vr)({action:"usedGetCookie",attributes:{cookieKey:e}}),e?s().get(e):s().get()}catch(t){a.V.errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:"Failed to use get cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/initialize-controls/index.js":(e,t,r)=>{"use strict";r.d(t,{bX:()=>P});var n,s,o=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=r("./node_modules/@babel/runtime/regenerator/index.js"),a=r.n(i),c=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),p=function(e){return e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e}({}),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js"),f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),b=function(e){return function(t){var r=t.includes("atl-set-cookie");if(r)try{return e.apply(document,[t])}catch(e){d.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"document.cookie setter failed to set cookie set by package. ".concat(e.message||""),attributes:{outsidePackage:!1}})}try{var n=t.slice(0,t.indexOf("="))||"";(0,u.vr)({action:"usedDocumentCookie",attributes:{cookieKey:n,outsidePackage:!r}});try{(0,h.XA)({itemKey:n,allowedCallback:function(){return e.apply(document,[t])},blockedCallback:function(r){var n=r.itemHasCategory;return(0,c.fg)("platform.moonjelly.block-unknown-cookies")?void 0:n?void 0:e.apply(document,[t])},storageType:f.kU.Cookies})}catch(e){d.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to set cookie. ".concat(e.message||""),attributes:{cookieKey:n}})}}catch(e){d.V.errorWithOperationalEvent({action:"usedDocumentCookieError",message:"Failed to send document.cookie setter event. ".concat(e.message||"")})}}},g=function(){var e=(0,o.A)(a().mark(function e(){var t,r,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null==(t=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"))?void 0:t.set,n=null==t?void 0:t.get,!(!r||!n)){e.next=6;break}return d.V.warn("No document.cookie capabilities found"),e.abrupt("return");case 6:Object.defineProperty(document,"cookie",{get:n,set:b(r),configurable:!0});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),v=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),w=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),C=new(function(){var e,t,r,n;function s(e,t){var r=this;(0,y.A)(this,s),(0,w.A)(this,"db",null),(0,w.A)(this,"isBooted",!1),(0,w.A)(this,"isAvailable",!1),(0,w.A)(this,"onConnectionErrorHandler",function(e){return function(t){d.V.warn("Error opening database."),e(t)}}),(0,w.A)(this,"onConnectionSuccessHandler",function(e,t){return function(n){r.db=e.result,t()}}),(0,w.A)(this,"onConnectionUpgradeNeededHandler",function(e){return function(t){r.db=e.result,r.db.createObjectStore(r.storeName,{keyPath:"id"})}}),(0,w.A)(this,"onGetRecordErrorHandler",function(e){return function(){var t="Failed to perform a get transaction on IndexedDB: ".concat(r.dbName," + ").concat(r.storeName);d.V.warn(t),e(t)}}),(0,w.A)(this,"onGetRecordSuccessHandler",function(e,t){return function(){t(e.result)}}),(0,w.A)(this,"onSetRecordErrorHandler",function(e){return function(){var t="Failed to perform a set transaction on IndexedDB: ".concat(r.dbName," + ").concat(r.storeName);d.V.warn(t),e(t)}}),(0,w.A)(this,"onSetRecordSuccessHandler",function(e){return function(){e()}}),this.dbName=e,this.storeName=t,this.isAvailable=this.getIsDBAvailable(),this.isBooted=!1,this.bootUpPromiseCache=null}return(0,v.A)(s,[{key:"boot",value:(e=(0,o.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=3;break}return d.V.warn("IndexedDB is not available"),e.abrupt("return");case 3:if(!this.isBooted){e.next=5;break}return e.abrupt("return");case 5:if(this.bootUpPromiseCache){e.next=18;break}return this.bootUpPromiseCache=this.openDB(),e.prev=7,e.next=10,this.bootUpPromiseCache;case 10:this.isBooted=!0,e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(7),this.isBooted=!1,d.V.warn("Error booting up IndexedDB."),e.t0;case 18:case"end":return e.stop()}},e,this,[[7,13]])})),function(){return e.apply(this,arguments)})},{key:"getIsDBAvailable",value:function(){return!(0,l.f)()&&!!window.indexedDB}},{key:"openDB",value:(t=(0,o.A)(a().mark(function e(){var t=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var n=indexedDB.open(t.dbName,1);n.onerror=t.onConnectionErrorHandler(r),n.onsuccess=t.onConnectionSuccessHandler(n,e),n.onupgradeneeded=t.onConnectionUpgradeNeededHandler(n)}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"getRecord",value:(r=(0,o.A)(a().mark(function e(t){var r,n,s=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isBooted){e.next=4;break}return e.next=4,this.boot();case 4:if(this.db){e.next=6;break}throw Error("Database is not opened");case 6:return r=this.db.transaction([this.storeName]).objectStore(this.storeName),n=new Promise(function(e,n){var o=r.get(t);o.onerror=s.onGetRecordErrorHandler(n),o.onsuccess=s.onGetRecordSuccessHandler(o,e)}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),d.V.error("Error fetching record from database. ".concat(e.t0.message||"")),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,12]])})),function(e){return r.apply(this,arguments)})},{key:"setRecord",value:(n=(0,o.A)(a().mark(function e(t){var r,n=this;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isBooted){e.next=4;break}return e.next=4,this.boot();case 4:if(this.db){e.next=6;break}throw Error("Database is not opened");case 6:return r=new Promise(function(e,r){var s=n.db.transaction([n.storeName],"readwrite").objectStore(n.storeName).add("SET-BY-PACKAGE",t);s.onerror=n.onSetRecordErrorHandler(r),s.onsuccess=n.onSetRecordSuccessHandler(e)}),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),d.V.warn("Error setting record in database. ".concat(e.t0.message||"")),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return n.apply(this,arguments)})}]),s}())("BSCIndexedDB","InternalStorageKeys"),_=function(e,t,r){if((0,c.fg)("platform_moonjelly_bsc_master_killswitch"))return r.getItem(e);var n={itemKey:e,storageType:t};try{return(0,u.vr)({action:"usedAtlBrowserStorageGetItem",attributes:n}),r.getItem(e)}catch(e){return d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageGetItemError",attributes:n,message:"Failed to get ".concat(t," item. ").concat(e.message||"")}),null}},A=function(){var e=(0,o.A)(a().mark(function e(t,r,n,s,o){var i,l;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.fg)("platform_moonjelly_bsc_master_killswitch")){e.next=3;break}return o.setItem(t,r),e.abrupt("return",f.nW.SUCCESS);case 3:return e.next=5,(0,h.XA)({itemKey:t,storageType:n===p.LocalStorage?f.kU.LocalStorage:f.kU.SessionStorage,productName:s});case 5:if(l={wasRejected:!(i=e.sent),itemKey:t,storageType:n},e.prev=7,(0,u.vr)({action:"usedAtlBrowserStorageSetItem",attributes:l}),!i){e.next=16;break}return e.next=12,C.setRecord(t);case 12:return o.setItem(t,r),e.abrupt("return",f.nW.SUCCESS);case 16:return e.abrupt("return",f.nW.BLOCKED);case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(7),d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",attributes:l,message:"Failed to set ".concat(n," item. ").concat(e.t0.message||"")}),e.abrupt("return",f.nW.BLOCKED);case 23:case"end":return e.stop()}},e,null,[[7,19]])}));return function(t,r,n,s,o){return e.apply(this,arguments)}}(),O=function(e,t,r,n){if((0,c.fg)("platform_moonjelly_bsc_master_killswitch"))return n.setItem(e,t),f.nW.SUCCESS;var s={itemKey:e,storageType:r};try{return(0,u.vr)({action:"usedAtlBrowserStorageSetStrictlyNecessaryItem",attributes:s}),C.setRecord(e).then(function(){}).catch(function(e){throw Error(e.message||"")}),n.setItem(e,t),f.nW.SUCCESS}catch(e){return d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetStrictlyNecessaryItemError",attributes:s,message:"Failed to set strictly necessary ".concat(r," item. ").concat(e.message||"")}),f.nW.FAILED}},k=function(){var e;function t(e,r){var n;(0,y.A)(this,t),(0,w.A)(this,"isAvailable",!1),(0,w.A)(this,"checkIfSetByPackage",(n=(0,o.A)(a().mark(function e(t){var r,n,s,o,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemKey,s=void 0===(n=t.isSetCallback)?function(){}:n,i=void 0===(o=t.isNotSetCallback)?function(){}:o,e.prev=1,e.next=4,C.getRecord(r);case 4:if(!e.sent){e.next=10;break}return s(),e.abrupt("return",!0);case 10:return i(),e.abrupt("return",!1);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),d.V.errorWithOperationalEvent({action:"usedCheckIfSetByPackageError",message:"IDB lookup failed to check if item was set by package. ".concat(e.t0.message||""),attributes:{itemKey:r}}),i(),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,null,[[1,14]])})),function(e){return n.apply(this,arguments)})),this.storage=e,this.storageType=r,this.isAvailable=this.isStorageAvailable()}return(0,v.A)(t,[{key:"isWebStorageEnabled",get:function(){return!!(0,m.re)().webStorageEnabled||(d.V.warn("WebStorage config is disabled, cannot proceed."),!1)}},{key:"getItem",value:function(e){return this.isWebStorageEnabled?this.isAvailable?_(e,this.storageType,this.storage):(d.V.warn("".concat(this.storageType," is unavailable. Failed to get item.")),null):null}},{key:"setItem",value:(e=(0,o.A)(a().mark(function e(t,r){var n,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isWebStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:if(this.isAvailable){e.next=5;break}return d.V.warn("".concat(this.storageType," is unavailable. Failed to set item.")),e.abrupt("return");case 5:return n=(0,m.re)().product,e.next=8,A(t,r,this.storageType,n,this.storage);case 8:s=e.sent,d.V.warn("".concat(s===f.nW.SUCCESS?"Successfully":"Failed to"," set item ").concat(t," with value ").concat(r));case 10:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"setStrictlyNecessaryItem",value:function(e,t){if(this.isWebStorageEnabled){if(!this.isAvailable){d.V.warn("".concat(this.storageType," is unavailable. Failed to set strictly necessary item."));return}var r=O(e,t,this.storageType,this.storage);d.V.warn("".concat(r===f.nW.SUCCESS?"Successfully":"Failed to"," set strictly necessary item ").concat(e," with value ").concat(t))}}},{key:"removeItem",value:function(e){if(this.isWebStorageEnabled){if(!this.isAvailable){d.V.warn("".concat(this.storageType," is unavailable. Failed to remove item."));return}this.storage.removeItem(e)}}},{key:"key",value:function(e){return this.isWebStorageEnabled&&this.isAvailable?this.storage.key(e):null}},{key:"length",value:function(){return this.isWebStorageEnabled&&this.isAvailable?this.storage.length:0}},{key:"clear",value:function(){this.isWebStorageEnabled&&this.isAvailable&&this.storage.clear()}},{key:"isStorageAvailable",value:function(){if((0,l.f)())return!1;try{var e="__storage_test__";return this.storage.setItem(e,e),this.storage.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&this.storage&&0!==this.storage.length}}}]),t}(),E=new k(null===(n=window)||void 0===n?void 0:n.localStorage,p.LocalStorage),I=new k(null===(s=window)||void 0===s?void 0:s.sessionStorage,p.SessionStorage),S=function(e){var t;return(t={},(0,w.A)(t,p.LocalStorage,E),(0,w.A)(t,p.SessionStorage,I),t)[e]},j=function(e,t,r){return function(n,s){var o=e.storage,i=!1;if(e.checkIfSetByPackage({itemKey:n,isSetCallback:function(){i=!0},isNotSetCallback:function(){i=!1}}),i)try{return t.apply(o,[n,s])}catch(e){d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"".concat(r," failed to setItem. ").concat(e.message||""),attributes:{outsidePackage:!1,storageType:r}})}try{(0,u.vr)({action:"usedAtlBrowserStorageSetItem",attributes:{itemKey:n,outsidePackage:!i,storageType:r}});try{(0,h.XA)({itemKey:n,allowedCallback:function(){t.apply(o,[n,s])},blockedCallback:function(e){var r=e.itemHasCategory;!(0,c.fg)("platform.moonjelly.block-unknown-cookies")&&(r||t.apply(o,[n,s]))},storageType:r===p.LocalStorage?f.kU.LocalStorage:f.kU.SessionStorage})}catch(e){d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"Failed to set item. ".concat(e.message||""),attributes:{itemKey:n,storageType:r}})}}catch(e){d.V.errorWithOperationalEvent({action:"usedAtlBrowserStorageSetItemError",message:"Failed to send ".concat(r," setter event. ").concat(e.message||"")})}}},T=function(){var e=(0,o.A)(a().mark(function e(t){var r,n,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=S(t)).isAvailable){e.next=4;break}return d.V.warn("No ".concat(t," capabilities found")),e.abrupt("return");case 4:if(C.isAvailable){e.next=7;break}return d.V.warn("IndexedDB is not available"),e.abrupt("return");case 7:if(C.isBooted){e.next=10;break}return e.next=10,C.boot();case 10:n=r.storage.setItem,s={clear:r.clear.bind(r),key:r.key.bind(r),length:r.length.bind(r),removeItem:r.removeItem.bind(r),getItem:r.getItem.bind(r),setItem:j(r,n,t)},Object.defineProperty(window,t,{value:s,writable:!0,configurable:!0});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.A)(a().mark(function e(){var t,r=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},!(0,c.fg)("platform_moonjelly_bsc_master_killswitch")){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,(0,m.B_)(t),!(0,l.f)()){e.next=7;break}return e.abrupt("return");case 7:if((0,u.IC)()){e.next=11;break}throw Error("Failed to initialize AnalyticsWebClient. Analytics logging will not be set for native method overrides.");case 11:return e.next=13,g();case 13:if((0,m.re)().webStorageEnabled){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,T(p.LocalStorage);case 18:return e.next=20,T(p.SessionStorage);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),d.V.errorWithOperationalEvent({action:"initializeControlsError",message:"Failed to initialize browser storage controls. ".concat(e.t0.message||"")});case 25:case"end":return e.stop()}},e,null,[[3,22]])}));return function(){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{T:()=>g});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=r("./node_modules/@babel/runtime/regenerator/index.js"),i=r.n(o),a=r("./node_modules/js-cookie/src/js.cookie.js"),c=r.n(a),l=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/item-processing/index.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=function(){var e=(0,s.A)(i().mark(function e(t,r,n){var s,o,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,l.fg)("platform_moonjelly_bsc_master_killswitch")){e.next=3;break}return c().set(t,r,b(b({},n),{},{"atl-set-cookie":!0})),e.abrupt("return",h.nW.SUCCESS);case 3:return s=(0,u.re)().product,e.next=6,(0,m.XA)({itemKey:t,storageType:h.kU.Cookies,productName:s});case 6:if(a={wasRejected:!(o=e.sent),cookieKey:t},e.prev=8,(0,d.vr)({action:"usedSetCookie",attributes:a}),!o){e.next=15;break}return c().set(t,r,b(b({},n),{},{"atl-set-cookie":!0})),e.abrupt("return",h.nW.SUCCESS);case 15:return e.abrupt("return",h.nW.BLOCKED);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(8),p.V.errorWithOperationalEvent({action:"usedSetCookieError",attributes:a,message:"Failed to use set cookie. ".concat(e.t0.message||"")}),e.abrupt("return",h.nW.BLOCKED);case 22:case"end":return e.stop()}},e,null,[[8,18]])}));return function(t,r,n){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-required-consent-cookies/index.js":(e,t,r)=>{"use strict";r.d(t,{ub:()=>b,SG:()=>g,pT:()=>v,BU:()=>y});var n=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/is-ssr/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js"),l=function(e){var t=(0,c.Eu)(e).isV002,r=e[8];return t&&(r="1"===e[7]?"0":"1"),r},u=function(e){if(e){var t=l(e),r=!(0,n.J)(t),s=!(0,i.gy)(e);if(r&&s)return!s;if(!r&&s)return!1}return!0},d=function(e){var t=e.consentToken,r=e.fallbackConsentToken,n=!!(0,i.gy)(t);return n?u(r):!(0,i.yl)(t)&&!!n||!r},m=function(e){if(e){var t=l(e),r=!(0,n.J)(t);if(!(0,i.gy)(e))return!!r}return!0},p=function(e){var t=e.consentToken,r=e.consentTimestamp,n=e.fallbackConsentToken;return(0,i.gy)(t)?m(n):r?(0,i.SA)(r):!n},h=function(e){var t=e.consentToken,r=e.consentTimestamp,i=e.fallbackConsentToken,c=(0,o.f)()?i:i||(0,a.R)(s.CK),u=l(t);return(0,n.J)(u)?p({consentToken:t,fallbackConsentToken:c,consentTimestamp:r}):d({consentToken:t,fallbackConsentToken:c})},f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js"),b=function(e){var t=new Date;t.setTime(t.getTime()+6e5),(0,f.G)(s.bT,e,{expires:t,path:"/"})},g=function(e){var t=new Date;t.setFullYear(t.getFullYear()+1),(0,f.G)(s.CK,e,{expires:t,path:"/"})},y=function(e,t){var r=h({consentToken:e,consentTimestamp:t}),o=(0,n.l)(!!r),i=new Date;i.setTime(i.getTime()+6e5),(0,f.G)(s.vk,o,{expires:i,path:"/"})},v=function(e,t){b(e),y(e,t)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js":(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/js-cookie/src/js.cookie.js"),o=r.n(s),i=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e,t,r){if((0,i.fg)("platform_moonjelly_bsc_master_killswitch"))o().set(e,t,u(u({},r),{},{"atl-set-cookie":!0}));else try{(0,a.vr)({action:"usedSetStrictlyNecessaryCookie",attributes:{cookieKey:e}}),o().set(e,t,u(u({},r),{},{"atl-set-cookie":!0}))}catch(t){c.V.errorWithOperationalEvent({action:"usedSetStrictlyNecessaryCookieError",attributes:{cookieKey:e},message:"Failed to use set strictly necessary cookie. ".concat(t.message||"")})}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js":(e,t,r)=>{"use strict";r.d(t,{Eu:()=>d,HD:()=>C,Z$:()=>_,Z3:()=>v,wd:()=>w});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e){if(e.length<3)return{isValid:!1,isV001:!1,isV002:!1,isV003:!1};var t=e[0]+e[1]+e[2],r=t===i.oG&&7===e.length,n=t===i.Bk&&12===e.length,s=t===i.sD&&10===e.length;return{isValid:[i.oG,i.Bk,i.sD].includes(t)&&(r||n||s),isV001:r,isV002:n,isV003:s}},m=function(e){return[i.oG,(0,o.l)(e.FUNCTIONAL),(0,o.l)(e.ANALYTICS),(0,o.l)(e.MARKETING),(0,o.l)(e.UNKNOWN)].join("")},p=function(e){var t;if(7===e.length)return t={},(0,n.A)(t,c.A7.StrictlyNecessary,!0),(0,n.A)(t,c.A7.Functional,"1"===e[3]),(0,n.A)(t,c.A7.Analytics,"1"===e[4]),(0,n.A)(t,c.A7.Marketing,"1"===e[5]),(0,n.A)(t,c.A7.Unknown,"1"===e[6]),t},h=function(e){var t=i.sD,r=e[c.uG.ConsentedUnderGDPR]||e[c.uG.ConsentedUnderCPRA]||e[c.uG.ConsentedUnderLGPD]||e[c.uG.ConsentedUnderFADP],n=e[c.RK.ConsentDataUnavailable];return[t,(0,o.l)(e[c.A7.Functional]),(0,o.l)(e[c.A7.Analytics]),(0,o.l)(e[c.A7.Marketing]),(0,o.l)(e[c.A7.Unknown]),(0,o.l)(!r),(0,o.l)(!n),(0,o.l)(n)].join("")},f=function(e){var t,r=(0,a.gy)(e),s="1"===e[7];return u(u({},b(e)),{},(t={},(0,n.A)(t,c.RK.ConsentsAreDefault,!!r),(0,n.A)(t,c.RK.UserIsAuthenticated,!s),(0,n.A)(t,c.RK.ConsentDataUnavailable,s),t))},b=function(e){var t;return t={},(0,n.A)(t,c.A7.StrictlyNecessary,!0),(0,n.A)(t,c.A7.Functional,"1"===e[3]),(0,n.A)(t,c.A7.Analytics,"1"===e[4]),(0,n.A)(t,c.A7.Marketing,"1"===e[5]),(0,n.A)(t,c.A7.Unknown,"1"===e[6]),(0,n.A)(t,c.RK.ConsentsAreDefault,"1"===e[7]),(0,n.A)(t,c.RK.UserIsAuthenticated,"1"===e[8]),(0,n.A)(t,c.RK.ConsentDataUnavailable,"1"===e[9]),t},g=[c.RK.ConsentDataUnavailable,c.uG.ConsentedUnderGDPR,c.uG.ConsentedUnderCPRA,c.uG.ConsentedUnderLGPD,c.uG.ConsentedUnderFADP],y=[c.RK.ConsentsAreDefault,c.RK.UserIsAuthenticated,c.RK.ConsentDataUnavailable];function v(e){return(0,s.re)().localConsentMode?m(e):g.every(function(t){return t in e})?h(e):y.every(function(t){return t in e})?[i.sD,(0,o.l)(e[c.A7.Functional]),(0,o.l)(e[c.A7.Analytics]),(0,o.l)(e[c.A7.Marketing]),(0,o.l)(e[c.A7.Unknown]),(0,o.l)(e[c.RK.ConsentsAreDefault]),(0,o.l)(e[c.RK.UserIsAuthenticated]),(0,o.l)(e[c.RK.ConsentDataUnavailable])].join(""):m(e)}function w(e){if((0,s.re)().localConsentMode)return e.length<3?void 0:e[0]+e[1]+e[2]===i.oG?p(e):void 0;var t=d(e),r=t.isValid,n=t.isV001,o=t.isV002,a=t.isV003;return r?n?p(e):o?f(e):a?b(e):void 0:void 0}var C=function(e){return!e||0===Object.keys(e).length},_=function(e){if(e!==c.hZ.INTERNAL){if(C(e))return{prefs:void 0,isPrefetchedPrefsInternalState:!0};var t=e&&"consentToken"in e&&e.consentToken;if(t){var r=w(t);return{prefs:r,isPrefetchedPrefsInternalState:!r}}if(e&&"consents"in e){var n=w((0,a.Ol)(e));return{prefs:n,isPrefetchedPrefsInternalState:!n}}}return e===c.hZ.INTERNAL?{prefs:void 0,isPrefetchedPrefsInternalState:!0}:{prefs:void 0,isPrefetchedPrefsInternalState:!1}}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js":(e,t,r)=>{"use strict";r.d(t,{l:()=>p});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),l=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-required-consent-cookies/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-consent-token/utils.js"),d=function(){var e=(0,n.A)(o().mark(function e(){var t,r,n,s,i,d;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.R)(a.CK),e.next=3,(0,u.L)(t);case 3:var o;if(!(r=e.sent)){e.next=15;break}if(n=r.consentToken,s=r.consentTimestamp,o=n,i=(0,c.R)(a.PN)||o,!((d=(0,c.R)(a.PN))||""===d)){e.next=13;break}return(0,l.BU)(i),(0,l.ub)(i),e.abrupt("return",""===i?void 0:i);case 13:return(0,l.pT)(i,s),e.abrupt("return",n);case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/transformer/index.js");function p(){return h.apply(this,arguments)}function h(){return(h=(0,n.A)(o().mark(function e(){var t,r,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.re)().localConsentMode){e.next=7;break}if(t=(0,c.R)(a.OF)){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.abrupt("return",(0,m.wd)(t));case 7:if(r=(0,c.R)(a.bT)){e.next=13;break}return e.next=11,d();case 11:return n=e.sent,e.abrupt("return",n?(0,m.wd)(n):void 0);case 13:return e.abrupt("return",(0,m.wd)(r));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/third-party-controls/check-third-party/index.js":(e,t,r)=>{"use strict";r.d(t,{W:()=>f});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/analytics-client/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),c=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=r("./node_modules/@atlaskit/platform-feature-flags/dist/esm/index.js"),u=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/bsc-global-state/index.js"),d=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/load-storage-controls-data-legacy/index.js"),m=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/preferences-controls/get-preferences/index.js"),h=function(){var e=(0,n.A)(o().mark(function e(t){var r,n,s,i,a,h,f,b,g,y,v,w;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.l)();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",Promise.resolve(!1));case 5:if(n=!1,!(0,l.fg)("platform_moonjelly_bsc_new_caches")){e.next=13;break}return i=(0,u.re)().loadCache,e.next=10,i(m.kU.Cookies);case 10:s=e.sent,e.next=16;break;case 13:return e.next=15,(0,d.YV)();case 15:s=e.sent;case 16:return s&&(f=(h=s).thirdPartyKeys,b=h.categories,g=f[t],a={},(0,c.A)(a,b.STRICTLY_NECESSARY,m.A7.StrictlyNecessary),(0,c.A)(a,b.FUNCTIONAL,m.A7.Functional),(0,c.A)(a,b.ANALYTICS,m.A7.Analytics),(0,c.A)(a,b.MARKETING,m.A7.Marketing),(0,c.A)(a,b.UNKNOWN,m.A7.Unknown),y=a,v=null!==g?y[g]:null,w=!1,v&&(w=r[v]),n=w),e.abrupt("return",Promise.resolve(n));case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.A)(o().mark(function e(t,r,n){var s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:return s=e.sent,(0,i.vr)({action:"usedCheckThirdParty",attributes:{wasRejected:!s,thirdParty:t}}),e.abrupt("return",s?r():null==n?void 0:n());case 8:e.prev=8,e.t0=e.catch(0),a.V.errorWithOperationalEvent({action:"checkThirdPartyError",attributes:{wasRejected:!0,thirdParty:t},message:"Failed to use check third party. ".concat(e.t0.message||"")});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,r,n){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/index.js":(e,t,r)=>{"use strict";r.d(t,{fy:()=>d,im:()=>p});var n=r("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(s),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/logger/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js"),c="".concat("/gateway/api/consenthub/session","/user"),l="".concat(c,"/consents/cookies"),u=function(e){return e?{consentToken:(0,a.Ol)(e),consentTimestamp:(0,a.h)(e)}:{consentToken:(0,a.Ol)({}),consentHubInaccessible:!0}},d=function(){var e=(0,n.A)(o().mark(function e(){var t,r,n,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.origin,r="".concat(t).concat(l),e.prev=2,e.next=5,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});case 5:if((n=e.sent).ok){e.next=8;break}throw Error("Failed to fetch preferences from ConsentHub with status: ".concat(n.status));case 8:return e.next=10,n.json();case 10:return s=e.sent,e.abrupt("return",u(s));case 14:return e.prev=14,e.t0=e.catch(2),i.V.errorWithOperationalEvent({action:"fetchConsentPreferencesError",message:e.t0.message||""}),e.abrupt("return",u());case 18:case"end":return e.stop()}},e,null,[[2,14]])}));return function(){return e.apply(this,arguments)}}(),m=function(e,t){var r=window.location,n=r.origin,s=r.pathname,o=(0,a.zm)(e,t);return JSON.stringify({action:"CONSENT_DATA_UNAVAILABLE"in e&&e.CONSENT_DATA_UNAVAILABLE?"FORM_FILL":"UPDATE_PREFERENCES",consents:o,formUrl:"".concat(n).concat(s),locale:"UNKNOWN",site:"atlassian",source:"COOKIE_PREFERENCES"})},p=function(){var e=(0,n.A)(o().mark(function e(t,r){var n,s,l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(window.location.origin).concat(c),e.prev=1,e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:m(t,r)});case 4:if(!(!(s=e.sent).ok||202!==s.status&&200!==s.status)){e.next=9;break}throw l="Failed to save preferences to ConsentHub with status: ".concat(s.status),new a.CY(l,s.status);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),i.V.errorWithOperationalEvent({action:"saveConsentPreferencesError",message:e.t0.message||""}),e.t0;case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,r){return e.apply(this,arguments)}}()},"./node_modules/@atlassian/browser-storage-controls/dist/esm/services/consent-hub-service/utils.js":(e,t,r)=>{"use strict";r.d(t,{CY:()=>S,SA:()=>I,gy:()=>C,zm:()=>k,h:()=>E,yl:()=>w,Ol:()=>O});var n=r("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=r("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("./node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=r("./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),u=r("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),d=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=r("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),p=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/common/utils/helpers.js"),h=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/constants.js"),f=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),b=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js"),g=function(e){return e.StrictlyNecessary="strictlyNecessaryCookies",e.Functional="functionalCookies",e.Analytics="performanceCookies",e.Marketing="targetingCookies",e.Unknown="unknownCookies",e}({});function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var v=function(e){return e[0]+e[1]+e[2]===h.Bk},w=function(e){if(v(e)){var t="1"===e[8],r="1"===e[9],n="1"===e[10],s="1"===e[11];return t||r||n||s}return!1},C=function(e){var t=v(e),r=e[0]+e[1]+e[2]===h.oG;return t?!w(e):!r&&(0,p.J)(e[7])},_=function(e){var t=h.sD,r=Object.entries(h.dx).reduce(function(t,r){var n=(0,m.A)(r,2),s=n[0],o=n[1];return s===b.A7.StrictlyNecessary?t:s===b.RK.UserIsAuthenticated?t+(0,p.l)(!e):s===b.RK.ConsentDataUnavailable?t+(0,p.l)(!!e):t+(0,p.l)(o)},"");return"".concat(t).concat(r)},A=function(e){var t,r,n,s;return[h.sD,(0,p.l)(!!(null!==(t=e.find(function(e){return e.key===g.Functional}))&&void 0!==t&&t.granted)),(0,p.l)(!!(null!==(r=e.find(function(e){return e.key===g.Analytics}))&&void 0!==r&&r.granted)),(0,p.l)(!!(null!==(n=e.find(function(e){return e.key===g.Marketing}))&&void 0!==n&&n.granted)),(0,p.l)(!!(null!==(s=e.find(function(e){return e.key===g.Unknown}))&&void 0!==s&&s.granted)),0,1,0].join("")},O=function(e){var t=e.consents;return t?0===t.length?_():A(t):(0,f.R)(h.CK)||_(!0)},k=function(e,t){var r,n=[b.A7.StrictlyNecessary,b.A7.Functional,b.A7.Analytics,b.A7.Marketing,b.A7.Unknown],s=(r={},(0,d.A)(r,b.A7.StrictlyNecessary,g.StrictlyNecessary),(0,d.A)(r,b.A7.Functional,g.Functional),(0,d.A)(r,b.A7.Analytics,g.Analytics),(0,d.A)(r,b.A7.Marketing,g.Marketing),(0,d.A)(r,b.A7.Unknown,g.Unknown),r);return n.map(function(r){return{key:s[r],granted:!!e[r],gatheredTs:new Date().toISOString(),displayedText:t[r]}})},E=function(e){var t=e.consents;if(t&&t.length){var r=t.map(function(e){return new Date(e.updatedTs).getTime()});return new Date(Math.max.apply(Math,(0,u.A)(r))).toISOString()}},I=function(e){var t=!1;if(e){var r=new Date;r.setFullYear(r.getFullYear()-1),t=new Date(e)<r}return t},S=function(e){(0,i.A)(l,e);var t,r=(t=y(),function(){var e,r=(0,c.A)(l);return e=t?Reflect.construct(r,arguments,(0,c.A)(this).constructor):r.apply(this,arguments),(0,a.A)(this,e)});function l(e,t){var n;return(0,s.A)(this,l),(n=r.call(this,e)).status=t,Object.setPrototypeOf((0,o.A)(n),l.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,o.A)(n),l),n.name="StatusCodeError",n}return(0,n.A)(l)}((0,l.A)(Error))},"./node_modules/@atlassian/browser-storage-controls/dist/esm/types.js":(e,t,r)=>{"use strict";r.d(t,{A7:()=>n,RK:()=>o,hZ:()=>a,kU:()=>c,nW:()=>l,rR:()=>i,uG:()=>s});var n=function(e){return e.StrictlyNecessary="STRICTLY_NECESSARY",e.Functional="FUNCTIONAL",e.Marketing="MARKETING",e.Analytics="ANALYTICS",e.Unknown="UNKNOWN",e}({}),s=function(e){return e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",e.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",e.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",e.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",e}({}),o=function(e){return e.ConsentsAreDefault="DEFAULT_CONSENTS",e.UserIsAuthenticated="USER_AUTHENTICATED",e.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",e}({}),i=function(e){return e.LocalStorage="localStorageKeys",e.SessionStorage="sessionStorageKeys",e.Cookies="keys",e.ThirdParty="thirdPartyKeys",e}({}),a=function(e){return e[e.INTERNAL=0]="INTERNAL",e}({}),c=function(e){return e.Cookies="Cookies",e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e}({}),l=function(e){return e.SUCCESS="SUCCESS",e.BLOCKED="BLOCKED",e.FAILED="FAILED",e}({})},"./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebClient.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>r_});var n=r("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/v4.js"),o=r.n(s),i=r("./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js");class a{constructor(){(0,n.A)(this,"_bindEventListeners",()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)}),(0,n.A)(this,"_handleVisibilityChange",()=>{let e=document[this._hidden];this._isHidden=e,this._callbacks.forEach(t=>t(e))}),this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,"undefined"!=typeof document&&(void 0!==document.hidden?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.msHidden?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this._hidden&&this._bindEventListeners())}addCallback(e,t){if("string"!=typeof e)throw Error("Invalid name, must be string");if("function"!=typeof t)throw Error("Invalid callback, must be function");this._callbacks.set(e,t)}removeCallback(e){this._callbacks.has(e)&&this._callbacks.delete(e)}getIsHidden(){return this._isHidden}}class c{constructor(){this._performance=window.performance}clearMarks(...e){this._performance&&this._performance.clearMarks&&this._performance.clearMarks(...e)}mark(...e){this._performance&&this._performance.mark&&this._performance.mark(...e)}getEntriesByName(...e){return this._performance&&this._performance.getEntriesByName?this._performance.getEntriesByName(...e):[]}getTimeOrigin(){return this._performance&&(this._performance.timeOrigin||this._performance.timing)?this._performance.timeOrigin||this._performance.timing.navigationStart:0}now(){return this._performance&&this._performance.now?this._performance.now():Date.now?Date.now():+new Date}isAvailable(){return!!this._performance&&!!this._performance.clearMarks&&!!this._performance.mark&&!!this._performance.getEntriesByName&&!!this._performance.timing}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class d{constructor(e,t){if((0,n.A)(this,"_getEventKey",({task:e,taskId:t})=>t?`${e}.${t}`:e),(0,n.A)(this,"_getEventTimingByName",e=>{let t=this._performance.getEntriesByName(e);return t[t.length-1]}),(0,n.A)(this,"_getApdexFields",e=>{let t=this._getApdexTimings(e),r=this._calculateApdex({duration:t.duration,threshold:e.threshold});return u(u({},t),{},{apdex:r})}),(0,n.A)(this,"_getApdexTimings",e=>{let t=this._getEventKey(e),r=`${t}-start`,n=e.startTime||this._getStartTime(e,r),s=e.stopTime||this._getStopTime();return this._cleanApdexState(t),{startTime:n,stopTime:s,duration:s-n}}),(0,n.A)(this,"_getStartTime",(e,t)=>{let r=this._performance.getTimeOrigin();return e.type===i.LR.INITIAL_LOAD?r:r+this._getEventTimingByName(t).startTime}),(0,n.A)(this,"_getStopTime",()=>this._performance.getTimeOrigin()+this._performance.now()),(0,n.A)(this,"_cleanApdexState",e=>{this._performance.clearMarks(`${e}-start`),this._performance.clearMarks(`${e}-stop`),this._startedEvents.delete(e)}),(0,n.A)(this,"_getVisibilityFields",e=>{let t;if(e.type===i.LR.INITIAL_LOAD)t=!this._wasPreviouslyHidden;else if(e.type===i.LR.TRANSITION){let r=this._getEventKey(e);t=this._isActiveEvents.get(r)}return(e.startTime||e.stopTime)&&(t=!this._pageVisibility.getIsHidden()),{isActiveTab:t}}),(0,n.A)(this,"_calculateApdex",({duration:e,threshold:t=this._threshold})=>e<=t?1:e<=4*t?.5:0),(0,n.A)(this,"_validateStartEvent",e=>{if(!e)throw Error('Missing "event" in Apdex start event');if(!e.task)throw Error('Missing "task" in Apdex start event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex start event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex start event')}),(0,n.A)(this,"_validateStopEvent",e=>{if(!e)throw Error('Missing "event" in Apdex stop event');if(!e.task)throw Error('Missing "task" in Apdex stop event');if("string"!=typeof e.task)throw Error('Invalid "task" in Apdex stop event');if(e.taskId&&"string"!=typeof e.taskId)throw Error('Invalid "taskId" in Apdex stop event');if(!e.type)throw Error('Missing "type" in Apdex stop event');if(e.type&&!(0,i.Xj)(i.LR,e.type))throw Error('Invalid "type" in Apdex stop event');if(e.threshold&&"number"!=typeof e.threshold)throw Error('Invalid "threshold" in Apdex stop event');if(!e.startTime&&e.type===i.LR.TRANSITION){let t=this._getEventKey(e);if(!this._startedEvents.has(t))throw Error(`Apdex event transition "${t}" was not started`)}if(e.startTime&&!("number"==typeof e.startTime&&e.startTime>=0))throw Error('Invalid "startTime" in Apdex stop event');if(e.stopTime&&"number"!=typeof e.stopTime)throw Error('Invalid "stopTime" in Apdex stop event');if(e.stopTime<=e.startTime)throw Error('"stopTime" should be greater than "startTime" in Apdex stop event')}),(0,n.A)(this,"_shouldSendEvent",e=>!!e&&"number"==typeof e.apdex),(0,n.A)(this,"_sendEvent",(e,t)=>{this._shouldSendEvent(e)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:u(u({},e.additionalAttributes),{},{task:e.task,taskId:e.taskId,type:e.type,threshold:e.threshold||this._threshold,apdex:e.apdex,startTime:e.startTime,stopTime:e.stopTime,duration:e.duration,isActiveTab:e.isActiveTab})},t)}),!e)throw Error("Missing onEvent callback");if("function"!=typeof e)throw Error("Invalid onEvent, must be function");if(!(t instanceof a))throw Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new c,this._onEvent=e,this._threshold=1e3,this._wasPreviouslyHidden=t.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=t,this._pageVisibility.addCallback("apdexEvent",e=>{this.onVisibilityChange(!e)})}start(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;this._startedEvents.set(t,!0),this._isActiveEvents.set(t,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(r),this._performance.mark(r)}getStart(e){if(this._validateStartEvent(e),!this._performance.isAvailable())return;let t=this._getEventKey(e),r=`${t}-start`;return this._getEventTimingByName(r)}stop(e,t){if(this._validateStopEvent(e),!this._performance.isAvailable())return;let r=this._getApdexFields(e),n=this._getVisibilityFields(e);this._sendEvent(u(u(u({},e),r),n),t)}onVisibilityChange(e){e||(this._wasPreviouslyHidden=!0,Array.from(this._isActiveEvents.keys()).forEach(e=>this._isActiveEvents.set(e,!1)))}}let m=e=>"function"==typeof e,p=(e,t)=>()=>{if(m(e))try{return e()}catch(e){console.error(`${t} - ${e instanceof Error?e.message:String(e)}`);return}return e};function h(e){return!0==(null!==e&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(e)}function f(e){if(!1===h(e))return!1;let t=e.constructor;if("function"!=typeof t)return!1;let r=t.prototype;return!1!==h(r)&&"isPrototypeOf"in r}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return{tenantIdType:e.tenantIdType,tenantId:e.tenantId}}function v(e){return{userIdType:e.userIdType}}function w(e){return{orgId:e.orgId}}function C(e){return{workspaceId:e.workspaceId}}function _(e){if(I(e))return{aliases:e}}function A(e){if(I(e))return{groups:e}}function O(e){return e.anonymousId?{anonymousId:e.anonymousId}:{}}function k(e,t){return void 0===t?e:t}function E(e,t){let r=t||{},n=k(e.env,r.env),s=k(e.product,r.product),o=k(e.subproduct(),r.subproduct);return{env:n,product:s,subproduct:o,version:k(e.version,r.version),origin:k(e.origin,r.origin),platform:k(e.platform,r.platform)}}function I(e){return f(e)&&Object.keys(e).length>0}function S(e,t){return I(t)?{[e]:t}:void 0}function j(e){if(I(e))return S("containers",function(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];t[r]={id:n.id,type:n.type}}),t}(e))}function T(e,t){return g({containerType:e.containerType,containerId:e.containerId,source:e.source,objectType:e.objectType,objectId:e.objectId,actionSubject:e.actionSubject,action:e.action,actionSubjectId:e.actionSubjectId,attributes:e.attributes,nonPrivacySafeAttributes:e.nonPrivacySafeAttributes,tags:e.tags,highPriority:e.highPriority,eventType:t},j(e.containers))}function P(e){return`${e.actionSubject} ${e.action}`}function x(e,t,r,n,s,o,i,a,c,l,u,d,m){let p=E(e,function(e){let{env:t,product:r,subproduct:n,version:s,origin:o,platform:i}=e;return{env:t,product:r,subproduct:n,version:s,origin:o,platform:i}}(n)),h=y(t),f=w(c),b=C(u),k=v(r),I=T(n,s);return g(g(g(g(g(g(g(g(g({},p),h),f),k),I),O(n)),{},{tabId:o,sessionId:i,taskSessions:a,pageLoadId:l},b),_(d)),A(m))}let D=1e4,N=(e,t)=>Object.keys(e).reduce((r,n)=>(r[t(e[n],n,e)]=e[n],r),{}),R=(e,t)=>t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{}),L=(e,t)=>Object.keys(e).filter(r=>!t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),M=(e,t)=>Object.keys(e).filter(r=>t(e[r],r)).reduce((t,r)=>(t[r]=e[r],t),{}),U=(e,t)=>Object.keys(e).filter(e=>0>t.indexOf(e)).reduce((t,r)=>(t[r]=e[r],t),{}),F=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;if(e.prototype!==t.prototype)return!1;let r=Object.keys(e);return r.length===Object.keys(t).length&&r.every(r=>F(e[r],t[r]))},B=(e,t)=>e.reduce((e,r,n,s)=>(e[t(r,n,s)?0:1].push(r),e),[[],[]]),$=Object.freeze([i.$q.OPERATIONAL,i.$q.TRACK,i.$q.UI]);function V(e){if(e){if(e&&e.constructor!==Object)throw Error("properties.containers must be an Object");Object.values(e).forEach(e=>(function(e){if(!f(e))throw Error("properties.containers must be an Object");if(!("id"in e))throw Error("properties.containers is missing field 'id'");if("string"!=typeof e.id)throw Error("properties.containers.id must be of type String");if("type"in e&&"string"!=typeof e.type)throw Error("properties.containers.type must be of type String")})(e))}}function K(e){switch(e){case i.$q.OPERATIONAL:case i.$q.TRACK:case i.$q.UI:return!0;default:return!1}}function W(e){if(!e)throw Error("Missing event");if(!e.source)throw Error("Missing event.source");if(!e.actionSubject)throw Error("Missing event.actionSubject");if(!e.action)throw Error("Missing event.action");V(e.containers)}class G{constructor(e,t){if((0,n.A)(this,"canCompress",e=>{try{return e&&K(e.eventType)&&this.predicate(e)}catch(e){return!1}}),(0,n.A)(this,"compress",e=>{let[t,r]=B(e,e=>this.canCompress(e)),n=this.compressFn(t);if(!n)throw Error("No events were returned from the compression function");return n.forEach(e=>{(function(e){if(!K(e))throw Error(`Invalid action event type: ${e}, must be one of: [${$}]`)})(e.eventType),W(e)}),n.concat(r)}),"function"!=typeof e)throw Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if("function"!=typeof t)throw Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this.predicate=e,this.compressFn=t}}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class z{constructor(e=[]){if((0,n.A)(this,"canCompress",e=>this.compressionRules.some(t=>t.canCompress(e))),(0,n.A)(this,"compress",e=>this.createGroups(e).reduce((e,t)=>{let r=this.compressGroup(t);return e.concat(r)},[])),(0,n.A)(this,"createGroups",e=>e.reduce((e,t)=>{let r;let n=this.compressionRules.find(e=>e.canCompress(t));if(n){let e=T(t,t.eventType);r=U(t,Object.keys(e))}let s=e.find(e=>n===e.compressor&&F(r,e.contextFields));return s?s.events.push(t):e.push({contextFields:r,compressor:n,events:[t]}),e},[])),(0,n.A)(this,"compressGroup",e=>{if(!e.compressor)return e.events;try{return e.compressor.compress(e.events).map(t=>H(H({},t),e.contextFields))}catch(t){return console.warn(`Failed to compress some analytics events. Error: ${t.message}. Sending ${e.events.length} uncompressed events instead`),e.events}}),!Array.isArray(e))throw Error("Event compressors must be constructed with an array of CompressionRules");if(!e.every(e=>e instanceof G))throw Error("Event compressors can only be constructed with instances of CompressionRule");this.compressionRules=e}}class Q{constructor(e,t){(0,n.A)(this,"push",(e,t,r,n)=>{this.eventArgs.push({identifier:e,builtEvent:t,context:r,userInfo:n})}),(0,n.A)(this,"size",()=>this.eventArgs.length),(0,n.A)(this,"startFlush",()=>{try{this.eventArgs=this.compressEventArgs(this.eventArgs)}catch(e){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${e.message}. Sending ${this.eventArgs.length} uncompressed events instead`)}this.flushNextBatch()}),(0,n.A)(this,"cancelFlush",()=>{this.flushBatchTimeout&&(clearTimeout(this.flushBatchTimeout),this.flushBatchTimeout=null)}),(0,n.A)(this,"flushNextBatch",()=>{this.eventArgs.splice(0,7).forEach(e=>this.processFn(e.identifier,e.builtEvent,e.context,e.userInfo)),this.eventArgs.length>0?this.flushBatchTimeout=setTimeout(()=>this.flushNextBatch(),100):this.flushBatchTimeout=null}),(0,n.A)(this,"compressEventArgs",e=>{let[t,r]=B(e,e=>this.compressor.canCompress(e.builtEvent)),n=t.reduce((e,t)=>{let r=e.find(e=>F(e.userInfo,t.userInfo)&&F(e.context,t.context));return r?r.eventArgs.push(t):e.push({userInfo:t.userInfo,context:t.context,eventArgs:[t]}),e},[]).reduce((e,t)=>{try{let r=t.eventArgs.map(e=>e.builtEvent),n=this.compressor.compress(r).map(e=>({identifier:P(e),builtEvent:e,userInfo:t.userInfo,context:t.context}));return e.concat(n)}catch(e){return console.warn(`Failed to compress some analytics events. Error: ${e.message}. Sending ${t.eventArgs.length} uncompressed events instead`),t.eventArgs}},[]);return r.forEach(e=>n.push(e)),n}),this.processFn=e,this.flushBatchTimeout=null,this.eventArgs=[],this.compressor=new z(t)}}let Y=function(e){return e.TIMEOUT="timeout",e.MANUAL="manual",e}({});class J{constructor(e,t){(0,n.A)(this,"push",(e,t,r,n)=>{this.delayQueue.push(e,t,r,n)}),(0,n.A)(this,"startLowPriorityEventDelay",(e=D,t)=>{if(Number.isNaN(e)||e<=0)throw Error(`Invalid timeout period: ${e}, must be a number greater than 0`);this.delayTimeout&&clearTimeout(this.delayTimeout);let r=e?Math.min(e,3e4):3e4;this.delayCallback=t,this.delayTimeout=setTimeout(()=>this.stopLowPriorityEventDelay(Y.TIMEOUT),r),this.delayQueue.cancelFlush(),this.isDelaying=!0}),(0,n.A)(this,"stopLowPriorityEventDelay",(e=Y.MANUAL)=>{var t;this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.delayQueue.startFlush(),this.isDelaying=!1,null===(t=this.delayCallback)||void 0===t||t.call(this,e),this.delayCallback=void 0}),(0,n.A)(this,"isDelayingLowPriorityEvents",()=>this.isDelaying),this.isDelaying=!1,this.delayQueue=new Q(e,t)}}let X=function(e){return e.IN_PROGRESS="inProgress",e.QUEUE="queue",e.RECLAIM_START="reclaimStart",e.RECLAIM_END="reclaimEnd",e.ACK="ack",e}({}),Z=function(e){return e[e.RECLAIM_TIMEOUT=1e4]="RECLAIM_TIMEOUT",e[e.RECLAIM_WAIT=500]="RECLAIM_WAIT",e[e.RECLAIM_WAIT_THRESHOLD=2e3]="RECLAIM_WAIT_THRESHOLD",e}({}),ee=(e,t)=>({[X.ACK]:`${e}.${t}.${X.ACK}`,[X.QUEUE]:`${e}.${t}.${X.QUEUE}`,[X.IN_PROGRESS]:`${e}.${t}.${X.IN_PROGRESS}`,[X.RECLAIM_START]:`${e}.${t}.${X.RECLAIM_START}`,[X.RECLAIM_END]:`${e}.${t}.${X.RECLAIM_END}`}),et=Object.values(X),er=e=>{if("string"!=typeof e||0===e.length)return 0;try{let t=Object.keys(localStorage).filter(t=>t&&t.startsWith(`${e}.`)||!1).map(e=>e.split(".")).filter(e=>3===e.length&&et.includes(e[2])).reduce((e,t)=>{let[,r,n]=t;return void 0===e[r]&&(e[r]={}),e[r][n]=!0,e},{}),r=Object.keys(t).filter(e=>!0!==t[e][X.ACK]);return r.forEach(t=>{let{queue:r,inProgress:n,reclaimStart:s,reclaimEnd:o}=ee(e,t);localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(s),localStorage.removeItem(o)}),r.length}catch(e){}return 0};function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eo=e=>new Promise(t=>{setTimeout(t,e)}),ei=e=>{try{return Object.keys(localStorage).filter(t=>t.startsWith(e)).map(e=>e.split(".")).filter(t=>{if(3===t.length&&t[0]===e&&t[2]===X.ACK)try{let e=localStorage.getItem(t.join("."));if(e){let t=parseInt(e);return Z.RECLAIM_TIMEOUT+t<Date.now()}}catch(e){}return!1}).map(e=>e[1])}catch(e){}return[]},ea=async(e,t)=>{let{ack:r,reclaimStart:n,reclaimEnd:s}=e.storageKeys,o=Date.now();if(localStorage.setItem(n,e.reclaimProcessId),localStorage.setItem(r,o.toString()),await eo(Z.RECLAIM_WAIT),Date.now()>o+Z.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimStart.");if(localStorage.setItem(s,e.reclaimProcessId),await eo(Z.RECLAIM_WAIT),Date.now()>o+Z.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(n)!==e.reclaimProcessId||localStorage.getItem(s)!==e.reclaimProcessId)throw Error("Took to long to callback, reclaim abandonded. After reclaimEnd.");return ec(e,t)},ec=async(e,t)=>{let{queue:r,inProgress:n}=e.storageKeys,s=[...JSON.parse(localStorage.getItem(r)||"[]"),...Object.entries(JSON.parse(localStorage.getItem(n)||"{}")).map(([e,t])=>es(es({},t),{},{attemptNumber:t.attemptNumber+1,id:e}))];if(s.length>0){let o=await t(s);if("successful"===o.status)el(e.storageKeys);else if("partial"===o.status){let e=s.filter(e=>!o.acceptedItemIds.includes(e.id));return localStorage.removeItem(n),localStorage.setItem(r,JSON.stringify(e)),{fullReclaim:!1}}}else el(e.storageKeys);return{fullReclaim:!0}},el=e=>{localStorage.removeItem(e.queue),localStorage.removeItem(e.inProgress),localStorage.removeItem(e.reclaimEnd),localStorage.removeItem(e.reclaimStart),localStorage.removeItem(e.ack)},eu=async(e,t)=>{if("string"!=typeof e||0===e.length)return{fullReclaims:0,partialReclaims:0,failedReclaims:0};let r=o()(),n=ei(e).map(n=>ea({queuePrefix:e,reclaimProcessId:r,storageKeys:ee(e,n)},t)),s=await Promise.allSettled(n),i=s.filter(e=>"rejected"===e.status),a=s.filter(e=>"fulfilled"===e.status).map(e=>e.value),c=a.filter(e=>e.fullReclaim),l=a.filter(e=>!e.fullReclaim);return{failedReclaims:i.length,partialReclaims:l.length,fullReclaims:c.length}},ed="namespace-timeAdded",em="analytics-resilience",ep="timeToBeProcessedAfter",eh="timeAdded",ef="retryAttempts",eb=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),eg=function(e){return e.IGNORE="ignore",e.ABANDON="abandon",e.EVICT="evict",e}({});class ey extends Error{constructor(){super("window.indexeddb is undefined."),Object.setPrototypeOf(this,ey.prototype),this.name="NoIndexedDbError"}}let ev="AbandonWriteError";class ew extends Error{constructor(e){super(`Event Limit reached. Abandoning write to: ${e}`),Object.setPrototypeOf(this,ew.prototype),this.name=ev}}let eC="CallbackProcessingError";class e_ extends Error{constructor(e){super(`Error thrown while processing events in callback: ${e&&"object"==typeof e&&"toString"in e&&"function"==typeof e.toString&&e.toString()||"string"==typeof e&&e||"Argument passed to CallbackProcessingError was not an Error or string."}`),Object.setPrototypeOf(this,e_.prototype),this.name=eC}}let eA="InvalidPolicyError";class eO extends Error{constructor(e,t){super(`Method '${t}' cannot be called with policy '${e}'.`),this.name=eA}}let ek=e=>!!e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&(e.name===ev||e.name===eC||e.name===eA);var eE=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");let eI=7,eS=(e,t,{id:r,retryAttempts:n,timeToProcessOffset:s})=>({item:e,id:r||o()(),retryAttempts:n||0,timeToBeProcessedAfter:Date.now()+(s||0),namespace:t,timeAdded:Date.now()}),ej=e=>({logger:e.logger||console,useMemory:e.useMemory||!1,maxAttempts:e.maxAttempts||10,maxEventLimit:e.maxEventLimit||5e3}),eT=e=>new Promise((t,r)=>{e.onsuccess=e=>{t(e)},e.onerror=e=>{r(e)}}),eP=e=>new Promise((t,r)=>{e.oncomplete=()=>{t()},e.onerror=e=>{r(e)},e.onabort=e=>{r(e)}}),ex=(e,t)=>{try{"function"==typeof e.commit&&e.commit()}catch(e){throw t.error("Failed to force commit transaction:",e),e}return eP(e)},eD=(e,t)=>{e.onerror=e=>{t.warn("Error thrown from request:",e)}};class eN{constructor(e,t,r,s){if((0,n.A)(this,"deleteOldestNEvents",async(e,t)=>{var r;let n=e.index(ed),s=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),o=n.getAllKeys(s,t),i=await eT(o),a=null==i||null===(r=i.target)||void 0===r?void 0:r.result;if(a&&Array.isArray(a)&&a.length>0)try{let t=a.map(t=>this.deleteItemHandler(e,t));await Promise.all(t)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.namespace=t,this.logger=r,this.deleteItemHandler=s}async insertItems(e,t,r=eg.ABANDON){let n=[...t],s=0;switch(r){case eg.ABANDON:await this.throwIfNotEnoughSpace(e,t.length);break;case eg.EVICT:s=await this.evictIfNotEnoughSpace(e,t.length);break;case eg.IGNORE:await this.calculateHowManyEventsWeCanAdd(e,n)}let o=n.map(t=>eT(e.add(t)));return await Promise.all(o),await ex(e.transaction,this.logger),{items:n,numberOfEvictedItems:s}}async throwIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t)throw new ew(`Not enough space in IndexedDb. Needed ${t} but only had ${r}`)}async evictIfNotEnoughSpace(e,t){let r=await this.calculateFreeSpace(e);if(r<t){let n=t-r;return await this.deleteOldestNEvents(e,n),n}return 0}async calculateHowManyEventsWeCanAdd(e,t){let r=await this.calculateFreeSpace(e);if(r<t.length){let e=t.length-r,n=t.length-e;t.splice(n,e)}}async calculateFreeSpace(e){let t=await this.getCountofEventsInObjectStore(e);return this.eventLimit-t}async getCountofEventsInObjectStore(e){let t=e.index(ed),r=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),n=t.count(r);return(await eT(n)).target.result}}let eR=["item"],eL=["items"];function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class eU{constructor(e,t={}){if((0,n.A)(this,"startDB",async()=>new Promise(async(e,t)=>{if("undefined"!=typeof window){let r=window.setTimeout(()=>{this.logger.warn("IndexedDB timed out."),t(new ey)},15e3),n=window.indexedDB.open("analytics-web-client",1);n.onupgradeneeded=e=>{if(0!==e.oldVersion)throw Error("We cannot upgrade the database. Do not do this.");let t=n.result.createObjectStore(em,{keyPath:"id"});t.createIndex(ep,ep,{unique:!1}),t.createIndex(ef,ef,{unique:!1}),t.createIndex(eh,eh,{unique:!1}),t.createIndex(ed,["namespace","timeAdded"],{unique:!1})};try{return await eT(n),e(n.result)}catch(e){this.logger.warn("IndexedDB failed to initialise.",e),t(new ey)}finally{window.clearTimeout(r)}}else this.logger.warn("IndexedDB failed to initialise. No 'window' object."),t(new ey)})),(0,n.A)(this,"addItem",async(e,t={},r=eg.ABANDON)=>{let{logger:n,namespace:s}=this,o=eS(e,s,t),{objectStore:i}=await this.getObjectStoreAndTransaction("readwrite");if(r===eg.IGNORE)throw new eO(r,"IndexedDbConnector#addItem");try{if(!o.namespace||0===o.namespace.length||"string"!=typeof o.namespace)throw Error("Namespace not specified");let e=await this.globalEventLimitGuard.insertItems(i,[o],r);if(1===e.items.length)return{item:e.items[0],numberOfEvictedItems:e.numberOfEvictedItems};throw Error(`Incorrect number of items added. Expected: 1, got: ${e.items.length}`)}catch(e){if(ek(e))throw e;throw n.log("Failed to add item to table",e),Error("Request to add item to table failed")}}),(0,n.A)(this,"bulkAddItem",async(e,t=eg.ABANDON)=>{let{logger:r,namespace:n}=this,s=e.map(e=>{let{item:t}=e;return eS(t,n,(0,eE.A)(e,eR))}),{objectStore:o}=await this.getObjectStoreAndTransaction("readwrite");try{return await this.globalEventLimitGuard.insertItems(o,s,t)}catch(e){if(ek(e))throw e;throw r.log("Failed to add item to table",e),Error("Request to add item to table failed")}}),(0,n.A)(this,"getItems",async(e=eI)=>{let t=e>0?e:eI,{logger:r}=this,s=this.options.maxAttempts,{transaction:o,objectStore:i}=await this.getObjectStoreAndTransaction("readwrite"),a=i.index(ep),c=IDBKeyRange.upperBound(Date.now()),l=a.openCursor(c),u=await new Promise(async(e,o)=>{let i=[],a=0;l.onerror=e=>{r.error("Failed to open cursor:",e),o("Failed to open cursor")},l.onsuccess=o=>{let c=o.target.result;if(c){let o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},c.value);i.push(o);let l=c.value;l.retryAttempts+=1,l.timeToBeProcessedAfter=Date.now()+6e4,l.retryAttempts>=s?(++a,eD(c.delete(),r)):eD(c.update(l),r),i.length<t?c.continue():e({items:i,numberOfDeletedItems:a})}else e({items:i,numberOfDeletedItems:a})}});return await ex(o,this.logger),u}),(0,n.A)(this,"deleteItems",async e=>{let{transaction:t,objectStore:r}=await this.getObjectStoreAndTransaction("readwrite");try{let n=e.map(e=>this.deleteItem(r,e));await ex(t,this.logger),await Promise.all(n)}catch(e){throw this.logger.warn("Failed to delete items from indexeddb.",e),e}}),(0,n.A)(this,"getItemCount",async()=>{let{transaction:e,objectStore:t}=await this.getObjectStoreAndTransaction("readonly"),r=t.index(ep),n=IDBKeyRange.upperBound(Date.now()),s=r.count(n),o=await eT(s);return await ex(e,this.logger),o.target.result}),(0,n.A)(this,"processItems",async(e,t=eI)=>{let r=await this.getItems(t),{items:n}=r,s=(0,eE.A)(r,eL);try{let t=await e(n,s),r=n.map(e=>e.id);return await this.deleteItems(r),t}catch(e){throw new e_(e)}}),(0,n.A)(this,"deleteItem",async(e,t)=>{let{logger:r}=this;try{await eT(e.delete(t))}catch(e){throw r.error("Failed to delete item:",t,e),e}}),(0,n.A)(this,"getObjectStoreAndTransaction",async e=>{let t=(await this.db).transaction(em,e),r=t.objectStore(em);return{transaction:t,objectStore:r}}),this.options=ej(t),this.namespace=e,this.logger=this.options.logger,!window.indexedDB)throw new ey;this.db=this.startDB(),this.db.catch(()=>{}),this.globalEventLimitGuard=new eN(this.options.maxEventLimit,this.namespace,this.logger,this.deleteItem)}storeType(){return eb.INDEXEDDB}}class eF{constructor(e,t){if((0,n.A)(this,"insertItemsToMemoryStore",(e,t)=>{switch(t){case eg.ABANDON:return this.handleAbandonIfLimitWillExceedPolicy(e);case eg.EVICT:return Promise.resolve(this.handleEvictOldestIfLimitExceededPolicy(e));case eg.IGNORE:return this.handleAddAsManyAsPossible(e)}}),e>0)this.eventLimit=e;else throw Error("Event Limit has to be set higher than 1");this.memoryItemHandlers=t}async handleAbandonIfLimitWillExceedPolicy(e){if(await this.memoryItemHandlers.getItemCount()+e.length>this.eventLimit)throw new ew(eb.MEMORY);return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:0}}handleEvictOldestIfLimitExceededPolicy(e){return this.memoryItemHandlers.addItems(e),{items:e,numberOfEvictedItems:this.memoryItemHandlers.evictEventsIfNeeded(this.eventLimit)}}async handleAddAsManyAsPossible(e){let t=this.eventLimit-await this.memoryItemHandlers.getItemCount(),r=t>e.length?e:e.slice(0,t);return this.memoryItemHandlers.addItems(r),{items:r,numberOfEvictedItems:0}}}let eB=["item"],e$=["items"];function eV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class eK{constructor(e,t={}){this.namespace=e,this.memoryStore=[],this.options=ej(t),this.globalEventLimitGuard=new eF(this.options.maxEventLimit,{addItems:this.addItems.bind(this),getItemCount:this.getItemCount.bind(this),evictEventsIfNeeded:this.evictEventsIfNeeded.bind(this)})}async addItem(e,t={},r=eg.ABANDON){if(r===eg.IGNORE)throw new eO(r,"IndexedDbConnector#addItem");let n=eS(e,this.namespace,t),s=await this.globalEventLimitGuard.insertItemsToMemoryStore([n],r);return Promise.resolve({item:s.items[0],numberOfEvictedItems:s.numberOfEvictedItems})}bulkAddItem(e,t=eg.ABANDON){let r=e.map(e=>{let{item:t}=e,r=(0,eE.A)(e,eB);return eS(t,this.namespace,r)});return this.bulkAddItemWrapperType(r,t)}bulkAddItemWrapperType(e,t=eg.ABANDON){return Promise.resolve(this.globalEventLimitGuard.insertItemsToMemoryStore(e,t))}getItems(e=eI){return Promise.resolve(this.synchronousGetItems(e))}synchronousGetItems(e=eI){let t=e>0?e:eI,r=Date.now(),s=[],o=[];for(let e of this.memoryStore)if(e.timeToBeProcessedAfter<=r&&(s.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e)),e.timeToBeProcessedAfter+=6e4,e.retryAttempts+=1,e.retryAttempts>=this.options.maxAttempts&&o.push(e)),s.length>=t)break;return o.forEach(e=>{let t=this.memoryStore.indexOf(e);this.memoryStore.splice(t,1)}),{items:s,numberOfDeletedItems:o.length}}deleteItems(e){return this.memoryStore=this.memoryStore.filter(t=>!e.includes(t.id)),Promise.resolve(void 0)}getItemCount(){let e=Date.now();return Promise.resolve(this.memoryStore.filter(t=>t.timeToBeProcessedAfter<=e).length)}async processItems(e,t){let r=this.synchronousGetItems(t),{items:n}=r,s=(0,eE.A)(r,e$),o=n.map(e=>e.id);try{let t=await e(n,s);return await this.deleteItems(o),t}catch(e){throw new e_(e)}}storeType(){return eb.MEMORY}addItems(e){this.memoryStore.push(...e),this.memoryStore.sort(function(e,t){return e.timeAdded-t.timeAdded})}evictEventsIfNeeded(e){let t=this.memoryStore.length;if(t>e){let r=t-e;return this.memoryStore.splice(0,r),r}return 0}}let eW=class{constructor(e,t={}){if(this.namespace=e,this.options=ej(t),!e||0===e.length||"string"!=typeof e)throw Error("Invalid namespace provided");this.resilience=this.getResilienceMechanism(e,t)}getResilienceMechanism(e,t){if(!t.useMemory)try{return new eU(e,t)}catch(e){if(!(e instanceof ey)){var r;null===(r=t.logger)||void 0===r||r.warn("Attempted to create IndexedDbResilience but failed. Using memory instead.")}}return new eK(this.namespace,t)}addItem(e,t,r=eg.ABANDON){return this.runOrFailOver(()=>this.resilience.addItem(e,t,r))}bulkAddItem(e,t=eg.ABANDON){return this.runOrFailOver(()=>this.resilience.bulkAddItem(e,t))}getItems(e){return this.runOrFailOver(()=>this.resilience.getItems(e))}deleteItems(e){return this.runOrFailOver(()=>this.resilience.deleteItems(e))}getItemCount(){return this.runOrFailOver(()=>this.resilience.getItemCount())}processItems(e,t){return this.runOrFailOver(()=>this.resilience.processItems(e,t))}storeType(){return this.resilience.storeType()}async runOrFailOver(e){try{return await e()}catch(t){if(ek(t))throw t;return this.resilience.storeType()===eb.INDEXEDDB&&await this.failOver(),e()}}async failOver(){let e=this.resilience,t=new eK(this.namespace,this.options);this.resilience=t;try{let{items:r}=await e.getItems(this.options.maxEventLimit);if(r.length>0){let n=(await t.bulkAddItemWrapperType(r,eg.IGNORE)).items.map(e=>e.id);await e.deleteItems(n)}}catch(e){this.options.logger.warn("Unexpected error from ResilienceDb, switching to MemoryDb")}}},eG=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),eq=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e}({});class eH{constructor(){(0,n.A)(this,"itemsDiscardedByRetry",0),(0,n.A)(this,"eventCount",0),(0,n.A)(this,"itemsDiscardedByOverflow",0),(0,n.A)(this,"resilienceMechanism",eG.INDEXEDDB),(0,n.A)(this,"localstorageNumberOfQueuesPurged",0),(0,n.A)(this,"localstorageNumberOfFullReclaims",0),(0,n.A)(this,"localstorageNumberOfPartialReclaims",0),(0,n.A)(this,"localstorageNumberOfFailedReclaims",0)}addToItemsDiscardedByRetryCounter(e=1){this.itemsDiscardedByRetry+=e}addToEventCount(){this.eventCount++}addToItemsDiscardedByOverflowCounter(e=1){this.itemsDiscardedByOverflow+=e}setResilienceMechanism(e){this.resilienceMechanism=e}addToReclaimMetrics(e){this.localstorageNumberOfFullReclaims+=e.fullReclaims,this.localstorageNumberOfPartialReclaims+=e.partialReclaims,this.localstorageNumberOfFailedReclaims+=e.failedReclaims}addToPurgedQueuesMetrics(e){this.localstorageNumberOfQueuesPurged+=e}subtractFromMetrics(e){this.itemsDiscardedByRetry=this.subtractFromCount(this.itemsDiscardedByRetry,e.itemsDiscardedByRetry),this.eventCount=this.subtractFromCount(this.eventCount,e.eventCount),this.itemsDiscardedByOverflow=this.subtractFromCount(this.itemsDiscardedByOverflow,e.itemsDiscardedByOverflow),this.localstorageNumberOfFullReclaims=this.subtractFromCount(this.localstorageNumberOfFullReclaims,e.fullReclaims),this.localstorageNumberOfPartialReclaims=this.subtractFromCount(this.localstorageNumberOfPartialReclaims,e.partialReclaims),this.localstorageNumberOfFailedReclaims=this.subtractFromCount(this.localstorageNumberOfFailedReclaims,e.failedReclaims),this.localstorageNumberOfQueuesPurged=this.subtractFromCount(this.localstorageNumberOfQueuesPurged,e.localstorageQueuesPurged)}subtractFromCount(e,t){return Math.max(e-(t||0),0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,eventCount:this.eventCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism,localstorageQueuesPurged:this.localstorageNumberOfQueuesPurged,fullReclaims:this.localstorageNumberOfFullReclaims,partialReclaims:this.localstorageNumberOfPartialReclaims,failedReclaims:this.localstorageNumberOfFailedReclaims}}}let ez=null,eQ=()=>(ez||(ez=new eH),ez);class eY{constructor(e){"undefined"!=typeof window&&(window.addEventListener("offline",()=>e(eq.OFFLINE)),window.addEventListener("online",()=>e(eq.ONLINE)))}getNetworkStatus(){return window.navigator.onLine?eq.ONLINE:eq.OFFLINE}}let eJ=function(e){return e.IDLE="idle",e.RUNNING="running",e.COMPLETED="completed",e.TIMED_OUT="timedOut",e}({}),eX=function(e){return e.EXECUTE="execute",e.COMPLETE="complete",e.TIMEOUT="timeout",e}({});class eZ{constructor(e){if((0,n.A)(this,"timeoutHandle",void 0),(0,n.A)(this,"callbackStatus",eJ.IDLE),e>0){this.timeoutPeriod=e;return}throw Error("CallbackWithTimeout requires timeout period higher than 0")}transitionCallbackStatus(e,t){switch(e){case eJ.IDLE:case eJ.TIMED_OUT:case eJ.COMPLETED:t===eX.EXECUTE&&(this.callbackStatus=eJ.RUNNING);break;case eJ.RUNNING:switch(t){case eX.COMPLETE:this.callbackStatus=eJ.COMPLETED;break;case eX.TIMEOUT:this.callbackStatus=eJ.TIMED_OUT}break;default:this.callbackStatus=e}}executeCallbackWithTimeout(e,t,r){"undefined"!=typeof window&&(this.transitionCallbackStatus(this.callbackStatus,eX.EXECUTE),this.timeoutHandle=window.setTimeout(()=>{this.transitionCallbackStatus(this.callbackStatus,eX.TIMEOUT),r()},this.timeoutPeriod),e(e=>{this.cancelTimeout(),this.getCallbackStatus()!==eJ.TIMED_OUT&&(this.transitionCallbackStatus(this.callbackStatus,eX.COMPLETE),t(e))}))}getCallbackStatus(){return this.callbackStatus}cancelTimeout(){"undefined"!=typeof window&&this.timeoutPeriod>0&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)}}let e0=function(e){return e[e.NOOP=0]="NOOP",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR",e}({}),e2={minRetryDelay:1e3,maxRetryDelay:3e4,backoffFactor:2,backoffJitterPercentage:0,waitInterval:500,callbackTimeoutPeriod:5e3},e1=function(e){return e[e.NONE=0]="NONE",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.WAIT=2]="WAIT",e}({});class e3{constructor(e,t){(0,n.A)(this,"schedule",({immediate:e}={immediate:!1})=>{"undefined"!=typeof window&&(this.operationInFlight?e?this.queuedSchedule=e1.IMMEDIATE:this.queuedSchedule!==e1.IMMEDIATE&&(this.queuedSchedule=e1.WAIT):(e||this.options.waitInterval<=0)&&0===this.failureCount?(this.clearTimeout(),this.run()):this.failureCount>0&&null===this.scheduledTimeout?this.scheduledTimeout=window.setTimeout(this.run,this.calculateBackoff()):null===this.scheduledTimeout&&(this.scheduledTimeout=window.setTimeout(this.run,this.options.waitInterval)))}),(0,n.A)(this,"stop",()=>{this.clearTimeout(),this.queuedSchedule=e1.NONE}),(0,n.A)(this,"getFailureCount",()=>this.failureCount),(0,n.A)(this,"getCallbackStatus",()=>this.callbackTimer.getCallbackStatus()),(0,n.A)(this,"clearTimeout",()=>{"undefined"!=typeof window&&null!==this.scheduledTimeout&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)}),(0,n.A)(this,"run",()=>{this.operationInFlight=!0,this.clearTimeout();try{this.callbackTimer.executeCallbackWithTimeout(this.callback,this.done,()=>this.done(e0.ERROR))}catch(e){this.done(e)}}),(0,n.A)(this,"done",e=>{this.operationInFlight=!1,e===e0.ERROR||this.callbackTimer.getCallbackStatus()===eJ.TIMED_OUT?(this.failureCount++,this.clearTimeout()):e===e0.SUCCESS&&(this.failureCount=0),this.processQueuedSchedule()}),(0,n.A)(this,"processQueuedSchedule",()=>{if(this.queuedSchedule!==e1.NONE){let e=this.queuedSchedule===e1.IMMEDIATE;this.queuedSchedule=e1.NONE,this.schedule({immediate:e})}else this.failureCount>0&&this.schedule()}),(0,n.A)(this,"calculateBackoff",()=>{let{minRetryDelay:e,maxRetryDelay:t,backoffFactor:r,backoffJitterPercentage:n}=this.options,s=e*r**this.failureCount;if(n){let e=Math.random(),t=Math.floor(e*n*s);5>Math.floor(10*e)?s-=t:s+=t}return Number(Math.min(s,t).toPrecision(1))}),this.options={minRetryDelay:e.minRetryDelay||e2.minRetryDelay,maxRetryDelay:e.maxRetryDelay||e2.maxRetryDelay,backoffFactor:e.backoffFactor||e2.backoffFactor,backoffJitterPercentage:e.backoffJitterPercentage||e2.backoffJitterPercentage,waitInterval:void 0!==e.waitInterval?e.waitInterval:e2.waitInterval,callbackTimeoutPeriod:e.callbackTimeoutPeriod||e2.callbackTimeoutPeriod},this.scheduledTimeout=null,this.failureCount=0,this.callback=t,this.operationInFlight=!1,this.queuedSchedule=e1.NONE,this.callbackTimer=new eZ(this.options.callbackTimeoutPeriod)}}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let e6={backoffFactor:0,backoffJitterPercentage:0,flushWaitMs:6e4,minRetryDelay:6e4,maxRetryDelay:6e4},e5={backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3};class e8{constructor(e,t,r,n){this.queuePrefix=e,this.resilience=new eW(t,{logger:n,maxAttempts:null==r?void 0:r.maxAttempts,maxEventLimit:null==r?void 0:r.maxItems}),this.options=this.buildOptions(r),this.scheduler=new e3(e7(e7({},this.options),{},{waitInterval:null!=r&&r.flushBeforeUnload?0:this.options.flushWaitMs}),this.scheduleCallback.bind(this)),this.longPollingScheduler=new e3(e7(e7({},e6),{},{waitInterval:e6.flushWaitMs}),this.scheduleLongCallBack.bind(this)),this.metricsCollector=eQ(),this.networkStatus=new eY(e=>{e===eq.OFFLINE?this.scheduler.stop():this.checkEventCountAndReschedule()})}start(e){this.batchFlushCallback=e,this.longPollingScheduler.schedule()}stop(){this.scheduler.stop(),this.longPollingScheduler.stop()}async addItem(e){let t=JSON.parse(JSON.stringify(e)),{numberOfEvictedItems:r}=await this.resilience.addItem(t,{},eg.EVICT);this.scheduler.schedule(),this.metricsCollector.addToEventCount(),r>0&&this.metricsCollector.addToItemsDiscardedByOverflowCounter(r)}getGlobalRetryCount(){return this.scheduler.getFailureCount()}async scheduleCallback(e){if(this.networkStatus.getNetworkStatus()===eq.OFFLINE){e(e0.NOOP);return}try{let t=await this.resilience.processItems(this.flush.bind(this),this.options.batchFlushSize);e(t)}catch(t){if(t.name===eC){e(e0.ERROR);return}}finally{await this.checkEventCountAndReschedule()}}async checkEventCountAndReschedule(){let e=await this.resilience.getItemCount();e>0&&this.scheduler.schedule({immediate:e>=this.options.batchFlushSize})}async scheduleLongCallBack(e){let t=er(this.queuePrefix);this.metricsCollector.addToPurgedQueuesMetrics(t);let r=await eu(this.queuePrefix,async e=>{let t=e.map(e=>({item:e.item,retryAttempts:e.attemptNumber,id:e.id})),{items:r}=await this.resilience.bulkAddItem(t,eg.IGNORE);return r.length===t.length?{status:"successful"}:{status:"partial",acceptedItemIds:r.map(e=>e.id)}});this.metricsCollector.addToReclaimMetrics(r),await this.checkEventCountAndReschedule(),e(e0.SUCCESS),this.longPollingScheduler.schedule()}flush(e,t){this.metricsCollector.setResilienceMechanism(this.resilience.storeType());let{batchFlushCallback:r}=this;if(!r)throw Error("batchFlushCallback has not been set. Call PullBatchableQueue#start first.");return new Promise((n,s)=>{if(e.length<=0){n(e0.NOOP);return}r(e.map(e=>{let t=e.item;return e.retryAttempts>0&&t.msg&&(t.msg._metadata||(t.msg._metadata={}),t.msg._metadata.failedAttempts=e.retryAttempts),t}),e=>{e?(t.numberOfDeletedItems>0&&this.metricsCollector.addToItemsDiscardedByRetryCounter(t.numberOfDeletedItems),s(e)):n(e0.SUCCESS)})})}buildOptions(e){return{backoffFactor:(null==e?void 0:e.backoffFactor)||e5.backoffFactor,backoffJitterPercentage:(null==e?void 0:e.backoffJitterPercentage)!==void 0?e.backoffJitterPercentage:e5.backoffJitterPercentage,batchFlushSize:(null==e?void 0:e.batchFlushSize)||e5.batchFlushSize,flushBeforeUnload:(null==e?void 0:e.flushBeforeUnload)||e5.flushBeforeUnload,flushWaitMs:(null==e?void 0:e.flushWaitMs)||e5.flushWaitMs,maxItems:(null==e?void 0:e.maxItems)||e5.maxItems,maxAttempts:(null==e?void 0:e.maxAttempts)||e5.maxAttempts,maxRetryDelay:(null==e?void 0:e.maxRetryDelay)||e5.maxRetryDelay,minRetryDelay:(null==e?void 0:e.minRetryDelay)||e5.minRetryDelay}}}let e9=(e,t,r,n)=>new e8(e,t,r||{},n),te=function(e){return e.IDENTIFY="identify",e.PAGE="page",e.TRACK="track",e}({});function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function tn(e,t){try{let r=await t;return e.map(e=>(function(e,t){if(!(t&&t instanceof Function))return e;if(e.msg.type===te.PAGE||e.msg.type===te.TRACK){let r=t();r&&Array.isArray(r)&&(e.msg.properties=tr(tr({},e.msg.properties),{},{xid:r}))}else if(e.msg.traits&&e.msg.type===te.IDENTIFY){let r=t();r&&Array.isArray(r)&&(e.msg.traits=tr(tr({},e.msg.traits),{},{xid:r}))}return e})(e,r))}catch(t){return e}}var ts=r("./node_modules/memoize-one/dist/memoize-one.esm.js");function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let ti=async e=>{var t;let r=null===(t=ta(e))||void 0===t?void 0:t.signal,s=tc(e.url),o=await fetch(e.url,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e.batch),signal:r},s));if(429===o.status||o.status>=500&&o.status<600)throw Error(`HTTP Error ${o.status} (${o.statusText})`);return o},ta=e=>{if(e.abortController)return e.abortController;if(e.timeout){let t=new AbortController;return setTimeout(()=>{t.abort()},e.timeout),t}},tc=(0,ts.A)(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"});var tl=r("./node_modules/date-fns/esm/toDate/index.js"),tu=r("./node_modules/date-fns/esm/differenceInCalendarDays/index.js"),td=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function tm(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}var tp=r("./node_modules/js-cookie/src/js.cookie.js"),th=r.n(tp);let tf=function(e){return e.AWC_TLD_TEST="AWC_TLD_TEST",e.AWC_ANALYTICS_DEBUG="AWC_ANALYTICS_DEBUG",e.AJS_ANONYMOUS_ID="AJS_ANONYMOUS_ID",e}({});class tb{constructor(e,t){this.key=e,this.options=t}getAttributes(){return this.options}getKey(){return this.key}}let tg=()=>{try{return window&&window.location&&"https:"===window.location.protocol}catch(e){return!1}},ty={[tf.AWC_TLD_TEST]:new tb("__awc_tld_test__",{expires:365,secure:tg(),path:"/"}),[tf.AWC_ANALYTICS_DEBUG]:new tb("atlassian_analytics_debug",{expires:365,secure:tg(),path:"/"}),[tf.AJS_ANONYMOUS_ID]:new tb("ajs_anonymous_id",{expires:365,secure:tg(),path:"/"})},tv=new class{constructor(){(0,n.A)(this,"_data",{}),(0,n.A)(this,"length",0),(0,n.A)(this,"setItem",(e,t)=>(this._data[e]=t,this.length=Object.keys(this._data).length,t)),(0,n.A)(this,"getItem",e=>e in this._data?this._data[e]:null),(0,n.A)(this,"removeItem",e=>(e in this._data&&delete this._data[e],this.length=Object.keys(this._data).length,null)),(0,n.A)(this,"clear",()=>{this._data={},this.length=0}),(0,n.A)(this,"key",e=>Object.keys(this._data)[e])}},tw="awcInMemoryStorageFallback";function tC(e){let t="test_value";if(!e)return!1;try{let r="awc.storage.support";e.setItem(r,t);let n=e.getItem(r);return e.removeItem(r),n===t}catch(e){return!1}}class t_{constructor(e,t={}){(0,n.A)(this,"getStore",()=>this._store),(0,n.A)(this,"getItem",e=>this._store.getItem(this.createKey(e))),(0,n.A)(this,"removeItem",e=>this._store.removeItem(this.createKey(e))),(0,n.A)(this,"setItem",(e,t)=>{try{this._store.setItem(this.createKey(e),t)}catch(r){(function(e){let t=!1;if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else -2147024882===e.number&&(t=!0);return t})(r)&&(this.swapToInMemory(),this._store.setItem(this.createKey(e),t))}}),(0,n.A)(this,"swapToInMemory",()=>{let e;if(this._store===tv||"undefined"==typeof window)return;let t=Object.keys(this._store||{});tC(window[tw])?e=window[tw]:(e=tv,window[tw]||(window[tw]=tv)),t.forEach(t=>{if(0===t.indexOf(this.getPrefix())){let r=this._store.getItem(t);r&&e.setItem(t,r)}}),this._store=e}),(0,n.A)(this,"clear",()=>this._store.clear()),(0,n.A)(this,"key",e=>this._store.key(e)),(0,n.A)(this,"getPrefix",()=>this._prefix),(0,n.A)(this,"createKey",e=>this._prefix?`${this.getPrefix()}.${e}`:e),this.options=t;let r=[];(void 0===t.useStoragePrefix||t.useStoragePrefix)&&r.push("awc"),t.envPrefix&&t.envPrefix!==i.sR.PROD&&r.push(t.envPrefix),this._prefix=r.join("-"),tC(e)?this._store=e:this.swapToInMemory()}}let tA=class extends t_{constructor(e){let t;try{t=window.localStorage||tv}catch(e){t=tv}super(t,e)}};class tO{constructor(){this.safeStorage=new tA({useStoragePrefix:!1})}set(e,t){return this.safeStorage.setItem(e,t),t}get(e){return this.safeStorage.getItem(e)||void 0}remove(e){this.safeStorage.removeItem(e)}}let tk=(e=!1)=>!e&&!("file:"===location.protocol||"chrome-extension:"===location.protocol),tE=ty.AWC_TLD_TEST.getKey(),tI="tld_test",tS=(0,ts.A)(()=>{if("undefined"==typeof location)return"";let{hostname:e}=location,t=e.split(".");for(let e=1;e<=t.length;e++){let r=t.slice(-1*e),n=`.${r.join(".")}`;if(th().set(tE,tI,{domain:n}),th().get(tE)===tI)return th().remove(tE,{domain:n}),n}return e});function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class tP{constructor(e){this.cookieLike=tk(e)?th():new tO}set(e,t,r){if(!ty[e]){console.warn(`Unknown cookie key ${e} provided, not set.`);return}return this.cookieLike.set(ty[e].getKey(),t,tT(tT({},ty[e].getAttributes()),{},{domain:tS()},r))}get(e){if(!ty[e]){console.warn(`Unknown cookie key ${e} provided, not fetched.`);return}return this.cookieLike.get(ty[e].getKey())}remove(e,t){if(!ty[e]){console.warn(`Unknown cookie key ${e} provided, not removed.`);return}this.cookieLike.remove(ty[e].getKey(),tT({},t))}}let tx="SAFE",tD="UNSAFE",tN="LOCAL_STORAGE";class tR{constructor(e){this.store=new tA({useStoragePrefix:!1}),this.cookie=new tP(e)}getUserId(){return this.userId||null}setUserId(e){this.userId=e}getAnonymousId(e){return this.getAnonymousIdFromLocalStorageAndUpdateCookieIfStale()||this.getAnonymousIdFromCookieAndUpdateLocalStorage()||this.generateNewAnonymousId(e)}setAnonymousId(e){let t=JSON.stringify(e);return this.cookie.set(tf.AJS_ANONYMOUS_ID,t),this.lastAnonymousIdCookieUpdate=Date.now(),this.store.setItem(ty.AJS_ANONYMOUS_ID.getKey(),t)}getAnonymousIdFromStorage(e){let t=e===tN?this.store.getItem(ty.AJS_ANONYMOUS_ID.getKey()):this.cookie.get(tf.AJS_ANONYMOUS_ID);if(t){let e={type:tD,anonymousId:t};try{let r=JSON.parse(t);if(r&&"string"==typeof r)return{type:tx,anonymousId:r};return e}catch(t){return e}}return{type:"NOT_FOUND"}}getAnonymousIdFromLocalStorageAndUpdateCookieIfStale(){let e=this.getAnonymousIdFromStorage(tN),t=!1;switch((!this.lastAnonymousIdCookieUpdate||function(e,t){(0,td.A)(2,arguments);var r=(0,tl.A)(e),n=(0,tl.A)(t),s=tm(r,n),o=Math.abs((0,tu.A)(r,n));r.setDate(r.getDate()-s*o);var i=Number(tm(r,n)===-s),a=s*(o-i);return 0===a?0:a}(new Date,new Date(this.lastAnonymousIdCookieUpdate))>=7)&&(t=!0),e.type){case tx:return t&&this.setAnonymousId(e.anonymousId),e.anonymousId;case tD:return e.anonymousId;default:return null}}getAnonymousIdFromCookieAndUpdateLocalStorage(){let e=this.getAnonymousIdFromStorage("COOKIE");switch(e.type){case tx:case tD:return this.store.setItem(ty.AJS_ANONYMOUS_ID.getKey(),JSON.stringify(e.anonymousId)),e.anonymousId;default:return null}}generateNewAnonymousId(e=o()){let t=e();return this.setAnonymousId(t),t}}var tL=r("./node_modules/@segment/isodate-traverse/lib/index.js"),tM=r.n(tL);function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let tB=e=>tF(tF({},e.context),{},{userAgent:navigator.userAgent}),t$=e=>{let t=tV(e);return tM()(t)},tV=e=>{if(null===e||"object"!=typeof e)return e;let t={};return Object.keys(e).forEach(r=>{let n=tK(e,r);void 0!==n&&(Array.isArray(n)?t[r]=n.map(e=>tV(e)):"object"==typeof n&&null!==n?t[r]=tV(n):t[r]=n)}),t},tK=(e,t)=>e[t];function tW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tW(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class tq{constructor(e){var t;(0,n.A)(this,"sendEvents",async(e,t)=>{let r=this.resilienceQueue.getGlobalRetryCount(),n=this.metrics.getMetricsPayload(),s=tG(tG({},n),{},{httpRetryCount:r});for(let e in s)0===s[e]&&delete s[e];let o=await this.attachXIDs(e),i=new Date().toISOString(),a=o.map(e=>(e.msg.sentAt=i,e.msg));try{let e=await ti({url:this.gasv3BatchUrl,batch:{batch:a,sentAt:i,metadata:s},timeout:this.options.requestTimeout});this.metrics.subtractFromMetrics(n),t(null,e)}catch(e){t(e,null)}}),this.options=tG(tG({},e),{},{requestTimeout:e.requestTimeout||1e4,retryQueueOptions:e.retryQueueOptions||{},logger:e.logger||console,disableCookiePersistence:e.disableCookiePersistence||!1}),this.user=new tR(null===(t=this.options)||void 0===t?void 0:t.disableCookiePersistence),this.xidPromiseCallback=e.xidPromiseGetter(),this.gasv3BatchUrl=`${e.apiHostProtocol}://${e.apiHost}/batch`,this.metrics=eQ(),this.resilienceQueue=e9(e.retryQueuePrefix,e.product,this.options.retryQueueOptions,this.options.logger),this.resilienceQueue.start(this.sendEvents)}getUser(){return this.user}async track(e,t,r,n){let s=tG(tG({},this.buildBaseEvent(r,te.TRACK,t)),{},{type:te.TRACK,properties:t$(t),event:e}),o=tG(tG({},s),{},{messageId:this.createMessageId()}),i=this.packageEvent(o);await this.resilienceQueue.addItem(i),n&&n()}async page(e,t,r,n){let s=tG(tG({},this.buildBaseEvent(r,te.PAGE,t)),{},{type:te.PAGE,properties:t$(t),name:e}),o=tG(tG({},s),{},{messageId:this.createMessageId()}),i=this.packageEvent(o);await this.resilienceQueue.addItem(i),n&&n()}async identify(e,t,r,n){let s=tG(tG({},this.buildBaseEvent(r,te.IDENTIFY,t)),{},{type:te.IDENTIFY,traits:t$(t)}),o=tG(tG({},s),{},{messageId:this.createMessageId()}),i=this.packageEvent(o);await this.resilienceQueue.addItem(i),n&&n()}buildBaseEvent(e,t,r){return{context:tB(t$(e)),timestamp:new Date().toISOString(),type:t,userId:this.user.getUserId(),anonymousId:r.anonymousId||this.user.getAnonymousId()}}createMessageId(){return`ajs-${o()()}`}packageEvent(e){let{apiHost:t,apiHostProtocol:r}=this.options;return{headers:{"Content-Type":"text/plain"},msg:e,url:`${r}://${t}/${e.type.charAt(0)}`}}async attachXIDs(e){return this.xidPromiseCallback?tn(e,this.xidPromiseCallback):Promise.resolve(e)}}var tH=r("./node_modules/query-string/index.js");let tz=e=>window.history.replaceState({},"",e),tQ=(e,t=tz)=>{let r=window.location.href,n=window.location.hash,s=""!==n?r.replace(n,""):r,{url:o,query:i}=(0,tH.parseUrl)(s),a=M(i,e);if(Object.keys(a).length>0){let r=L(i,e);t(Object.keys(r).length>0?`${o}?${(0,tH.stringify)(r)}${n}`:`${o}${n}`)}return a};class tY{constructor(){(0,n.A)(this,"handleOriginParameters",(e,t)=>{let r=Object.keys(e);if(!(r.length>0))throw Error("Empty parameter mapping provided");let n=r.filter(e=>0>Object.values(i.D0).indexOf(e));if(n.length>0)throw Error(`Invalid Origin Tracing Parameter(s) supplied: ${n.join()}!`);let s=tQ((e,t)=>r.indexOf(t)>=0,t);return Object.keys(s).map(t=>{let r=e[t](s[t]);return{[t]:r}}).reduce((e,t)=>Object.assign(e,t),{})}),this._originStore={}}}let tJ="/gateway/api/gasv3/api/v1",tX=()=>"as.staging.atl-paas-us-gov-mod.net/api/v1",tZ=()=>"api.stg.atlassian-us-gov-mod.com/gasv3/api/v1",t0=({useStargate:e,env:t,useLegacyUrl:r,envOverride:n})=>{if(t===i.sR.LOCAL||t===i.sR.DEV)throw Error("No LOCAL or DEV environments for FedRAMP.");if(t===i.sR.PROD&&n)throw Error("Cannot override to FedRAMP Sandbox for Prod.");return e?r?t===i.sR.PROD?"api.atlassian-us-gov-mod.com/gasv3/api/v1":tZ():window.location.host+tJ:t===i.sR.PROD?"as.atlassian-us-gov-mod.com/api/v1":tX()},t2=({useStargate:e,env:t,useLegacyUrl:r})=>e?r?t===i.sR.PROD?"api-private.atlassian.com/gasv3/api/v1":"api-private.stg.atlassian.com/gasv3/api/v1":window.location.host+tJ:t===i.sR.PROD?"as.atlassian.com/api/v1":"as.staging.atl-paas.net/api/v1",t1="session.id",t3="session.expiry",t4=/^\d+$/,t7=()=>{};class t6{constructor(e={}){(0,n.A)(this,"_generateNewSessionId",()=>{let e=Date.now().toString();return this._safeLocalStorage.setItem(t1,e),this._onNewSessionStarted&&this._onNewSessionStarted(),e}),(0,n.A)(this,"_updateSessionExpiry",()=>{let e=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem(t3,e.toString()),e}),(0,n.A)(this,"_debouncedUpdateSessionExpiry",e=>{let{_updateSessionExpiry:t}=this;if(e<Date.now()+this._sessionExpiryDebounceThresholdPercentage*this._sessionExpiryTime)return t();this._sessionExpiryDebounceTimer&&clearTimeout(this._sessionExpiryDebounceTimer),this._sessionExpiryDebounceTimer=setTimeout(()=>{t()},this._sessionExpiryDebounce)}),this._sessionExpiryTime=e.sessionExpiryTime||18e5,this._sessionExpiryDebounce=e.sessionExpiryDebounce||5e3,this._sessionExpiryDebounceThresholdPercentage=e.sessionExpiryDebounceThresholdPercentage||.9,this._onNewSessionStarted=e.onNewSessionStarted?e.onNewSessionStarted:t7,this._safeLocalStorage=new tA}getCurrentSessionId(){let e=this._safeLocalStorage.getItem(t1),t=parseInt(this._safeLocalStorage.getItem(t3)||"0",10)||0;return(this._debouncedUpdateSessionExpiry(t),!e||t<=Date.now()||Number.isNaN(t)||!t4.test(e))?this._generateNewSessionId():e}}let t5=class extends t_{constructor(e){let t;try{t=window.sessionStorage||tv}catch(e){t=tv}super(t,e)}},t8="tab.id";class t9{constructor(){(0,n.A)(this,"_generateNewTabId",()=>{let e=o()();return this._safeSessionStorage.setItem(t8,e),e}),this._safeSessionStorage=new t5}getCurrentTabId(){let e=this._safeSessionStorage.getItem(t8);return e||(e=this._generateNewTabId()),e}}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let rr="taskSessions",rn="taskSessionsInit",rs="awc.";class ro{constructor(){(0,n.A)(this,"_taskSessionsNotRecentlyInitialised",e=>null===this._safeSessionStorage.getItem(rr)||null===this._safeSessionStorage.getItem(rn)||parseInt(this._safeSessionStorage.getItem(rn)||"0",10)<e-3e3),(0,n.A)(this,"_removeTaskSessionPrefix",(e,t)=>t.split(rs)[1]),(0,n.A)(this,"_isTaskSessionQueryParam",(e,t)=>t.startsWith(rs)),(0,n.A)(this,"getAllTaskSessions",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(rr)||"")}catch(e){return{}}}),(0,n.A)(this,"_writeToSessionStorage",e=>{try{this._safeSessionStorage.setItem(rr,JSON.stringify(e))}catch(e){}}),(0,n.A)(this,"_appendTaskSessions",e=>{let t=this.getAllTaskSessions(),r=null===t?e:Object.assign(t,e);this._writeToSessionStorage(r)}),(0,n.A)(this,"_safelyRemoveKey",(e,t)=>null===e?{}:(delete e[t],e)),(0,n.A)(this,"createTaskSession",e=>{let t=o()(),r={};return r[e]=t,this._appendTaskSessions(r),t}),(0,n.A)(this,"createTaskSessionWithProvidedId",(e,t)=>{if("string"!=typeof t)throw TypeError("invalid taskSessionId, must be string");let r={};r[e]=t,this._appendTaskSessions(r)}),(0,n.A)(this,"completeTaskSession",e=>{let t=this.getAllTaskSessions(),r=this._safelyRemoveKey(t,e);this._writeToSessionStorage(r)}),(0,n.A)(this,"formatTaskSessionQueryString",({uri:e,includedTaskSessions:t})=>{let{url:r,query:n}=(0,tH.parseUrl)(e),s=this.getAllTaskSessions(),o=t?R(s,t):U(s,Object.values(i.D0));if(0===Object.keys(o).length)return e;let a=rt(rt({},N(o,(e,t)=>rs+t)),n);return`${r}?${(0,tH.stringify)(a)}`}),(0,n.A)(this,"stripQueryParameters",()=>{let e=N(tQ(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(e)});let e=Date.now();this._safeSessionStorage=new t5;try{this._taskSessionsNotRecentlyInitialised(e)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(rn,e.toString()))}catch(e){}}}let ri=ty.AWC_ANALYTICS_DEBUG.getKey(),ra="synthetic",rc=()=>{try{return JSON.parse(th().get(ri)||"false")}catch(e){th().remove(ri)}return!1},rl=class{constructor(){(0,n.A)(this,"_bind",()=>{"undefined"==typeof window||window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[];try{localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}catch(e){}}})}),(0,n.A)(this,"_cache",e=>{"undefined"!=typeof window&&(window.testAnalytics.eventCache.length>=100&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(e))}),(0,n.A)(this,"_shouldCacheEvent",()=>this._isDebugCookieEnabled),(0,n.A)(this,"saveEvent",e=>{e&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),e.tags instanceof Array?e.tags.push(ra):e.tags=[ra],this._cache(e))}),this._isDebugCookieEnabled=rc(),this._isDebugCookieEnabled&&this._bind()}},ru=["embeddedProduct"];function rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class rp{constructor(e,t,r,s={}){if((0,n.A)(this,"start",()=>{this._startInterval(),this._bindEventListeners()}),(0,n.A)(this,"stop",()=>{this._stopInterval(),this._unbindEventListeners()}),(0,n.A)(this,"resetTimers",()=>{this._intervalId&&(this.stop(),this.start())}),(0,n.A)(this,"_bindEventListeners",()=>{"undefined"!=typeof window&&(window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener))}),(0,n.A)(this,"_unbindEventListeners",()=>{"undefined"!=typeof window&&(window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener))}),(0,n.A)(this,"_startInterval",()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)}),(0,n.A)(this,"_stopInterval",()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)}),(0,n.A)(this,"_getProductKey",(e,t)=>{let r=e;return t&&(r+=`-${t}`),r}),(0,n.A)(this,"_getLastSentTimestamp",(e,t,r)=>(((this._parseLocalStorageData()||{})[r]||{})[t]||{})[e]||null),(0,n.A)(this,"_parseLocalStorageData",()=>{let e=this._safeLocalStorage.getItem(this._storageKey);try{return JSON.parse(e||"")}catch(e){return this._safeLocalStorage.removeItem(this._storageKey),null}}),(0,n.A)(this,"_setLastSentTimestamp",(e,t,r)=>{let n=this._parseLocalStorageData()||{},s=n[r]||{},o=s[t]||{};o[e]=Date.now(),s[t]=o,n[r]=s,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(n))}),(0,n.A)(this,"_shouldSendEvent",(e,t,r,n)=>!!document.hasFocus()&&(t===i.v7.NONE||!!r)&&!!n&&Date.now()-this._getLastSentTimestamp(e,r,n)>this._throttle),(0,n.A)(this,"_handleInterval",()=>{let e=this._getContext(),{embeddedProduct:t}=e,r=(0,eE.A)(e,ru);this._sendEvent(this._product,r),t&&this._sendEvent(t,r,!0)}),(0,n.A)(this,"_sendEvent",(e,t,r=!1)=>{let{subproduct:n,tenantIdType:s,tenantId:o,userId:i,lastScreenEvent:a,attributes:c}=t,l=this._getProductKey(e,n);if(this._shouldSendEvent(l,s,o,i)){this._setLastSentTimestamp(l,o,i);let t=this._createEvent(e,n,r,a,c);this._onEvent(t)}}),(0,n.A)(this,"_createEvent",(e,t,r,n,s)=>{let o={product:e,source:"ui",action:"viewed",actionSubject:"ui",attributes:s};return r&&(o.subproduct=null,o.version=null,o.attributes=rm(rm({},o.attributes),{},{embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:t,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform})),n&&(o.attributes=rm(rm({},o.attributes),{},{lastScreenEvent:{name:n.name,attributes:n.attributes}})),o}),!e)throw Error("Missing productInfo");if(!e.product)throw Error("Missing productInfo.product");if(!t)throw Error("Missing getContext callback");if("function"!=typeof t)throw Error("Invalid getContext, must be function");if(!r)throw Error("Missing onEvent callback");if("function"!=typeof r)throw Error("Invalid onEvent, must be function");this._productInfo=e,this._product=e.product,this._getContext=t,this._onEvent=r,this._delay=s.delay||2e3,this._throttle=s.throttle||36e5,this._storageKey=s.storageKey||"ui.viewed.last.sent",this._safeLocalStorage=new tA({envPrefix:this._productInfo.env}),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}function rh(e,t){return e&&"function"==typeof e?()=>{e(t)}:null}let rf=function(e){return e.XC="xc",e.UID="uid",e}({}),rb=()=>[{type:rf.XC,state:"TIMEOUT"},{type:rf.UID,state:"TIMEOUT"}],rg=()=>[{type:rf.XC,state:"UNKNOWN"},{type:rf.UID,state:"UNKNOWN"}],ry=(e,t)=>{if(e&&t&&"function"==typeof t)return Promise.race([t().catch(()=>()=>rg()),new Promise(e=>{setTimeout(()=>e(()=>rb()),5e3)})])};function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let rC="last.screen.event";class r_{constructor(e,t={}){if((0,n.A)(this,"_useStargate",e=>null==e||e),(0,n.A)(this,"_endsWith",(e,t)=>-1!==e.indexOf(t,e.length-t.length)),(0,n.A)(this,"_changeInternalUserId",(e,t)=>{this.eventProcessor.getUser().setUserId(e),t&&t!==this.eventProcessor.getUser().getAnonymousId()&&this.eventProcessor.getUser().setAnonymousId(t)}),(0,n.A)(this,"_createSubproductGetter",e=>p(e,"Cannot get subproduct from the callback. Proceeding without it.")),(0,n.A)(this,"_createEmbeddedProductGetter",e=>p(e,"Cannot get embeddedProduct from the callback. Proceeding without it.")),(0,n.A)(this,"_getLastScreenEvent",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(rC)||"")}catch(e){return this._safeSessionStorage.removeItem(rC),null}}),(0,n.A)(this,"_setLastScreenEvent",e=>{this._safeSessionStorage.setItem(rC,JSON.stringify({name:e.name,attributes:e.attributes}))}),(0,n.A)(this,"_shouldEventBeDelayed",e=>{if(!e.tags||-1===e.tags.indexOf("measurement"))return!1;let t=!1!==e.highPriority;return this.eventDelayQueue.isDelayingLowPriorityEvents()&&!t}),(0,n.A)(this,"_fireEvent",(e,t,r,n)=>{switch(t.eventType){case i.$q.UI:case i.$q.OPERATIONAL:case i.$q.TRACK:return this.eventProcessor.track(e,t,r,n);case i.$q.SCREEN:return this.eventProcessor.page(e,t,r,n);case i.$q.IDENTIFY:return this.eventProcessor.identify(e,t,r,n);default:throw Error(`No handler has been defined for events of type ${t.eventType}`)}}),(0,n.A)(this,"_fireDelayedEvent",(e,t,r,n)=>{try{this._changeInternalUserId(n.userId,n.anonymousId),t.tags=[...t.tags||[],"sentWithDelay"],this._fireEvent(e,t,r,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}}),(0,n.A)(this,"_delayEvent",(e,t,r,n,s)=>{this.eventDelayQueue.push(e,t,r,n),s&&s()}),(0,n.A)(this,"_processEvent",(e,t,r,n)=>(this._testingCache.saveEvent(t),this._shouldEventBeDelayed(t))?(this._delayEvent(e,t,r,this._userInfo,n),Promise.resolve()):this._fireEvent(e,t,r,n)),(0,n.A)(this,"setEmbeddedProduct",e=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(e),this.resetUIViewedTimers()}),(0,n.A)(this,"clearEmbeddedProduct",()=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(null)}),(0,n.A)(this,"setSubproduct",e=>{this._productInfo.subproduct=this._createSubproductGetter(e),this.resetUIViewedTimers()}),(0,n.A)(this,"setOriginTracingHandlers",e=>{let t=this.originTracing.handleOriginParameters(e,this._historyReplaceFn);Object.keys(t).forEach(e=>{void 0!==t[e].taskSessionId&&this.task.createTaskSessionWithProvidedId(e,t[e].taskSessionId)});let r={};return(Object.keys(t).forEach(e=>{t[e].originTracingAttributes?r[e]=t[e].originTracingAttributes:console.warn(`Handling method for origin parameter ${e} has not returned any attributes`)}),Object.keys(t).length>0)?this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:r}},()=>{}):Promise.resolve()}),(0,n.A)(this,"setTenantInfo",(e,t)=>{if(!e)throw Error("Missing tenantIdType");if(e!==i.v7.NONE&&!t)throw Error("Missing tenantId");if(!(0,i.Xj)(i.v7,e))throw Error(`Invalid tenantIdType '${e}', must be an tenantType: [${(0,i.KQ)(i.v7)}]`);this._tenantInfo={tenantIdType:e,tenantId:t}}),(0,n.A)(this,"clearTenantInfo",()=>{this._tenantInfo={}}),(0,n.A)(this,"setOrgInfo",e=>{if(!e)throw Error("Missing orgId");this._orgInfo={orgId:e}}),(0,n.A)(this,"clearOrgInfo",()=>{this._orgInfo={}}),(0,n.A)(this,"setWorkspaceInfo",e=>{if(!e)throw Error("Missing workspaceId");this._workspaceInfo={workspaceId:e}}),(0,n.A)(this,"clearWorkspaceInfo",()=>{this._workspaceInfo={}}),(0,n.A)(this,"setUserInfo",(e,t)=>{(function(e,t){if(!e)throw Error("Missing userIdType");if(!t)throw Error("Missing userId");if(!(0,i.Xj)(i.Of,e))throw Error(`Invalid userIdType '${e}', must be an userType: [${(0,i.KQ)(i.Of)}]`)})(e,t),this._changeInternalUserId(t),this._userInfo={userIdType:e,userId:t,anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),(0,n.A)(this,"clearUserInfo",()=>{this._changeInternalUserId(void 0),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),(0,n.A)(this,"setAlias",(e,t)=>{if(!e)throw Error("Missing aliasType");if(!(0,i.Xj)(i.VD,e))throw Error(`Invalid aliasType '${e}', must be an aliasType: [${(0,i.KQ)(i.VD)}]`);this._aliases[e]=t}),(0,n.A)(this,"clearAlias",()=>{this._aliases={}}),(0,n.A)(this,"setGroup",(e,t)=>{if(!e)throw Error("Missing groupType");if(!(0,i.Xj)(i.iU,e))throw Error(`Invalid groupType '${e}', must be an groupType: [${(0,i.KQ)(i.iU)}]`);this._groups[e]=t}),(0,n.A)(this,"clearGroup",()=>{this._groups={}}),(0,n.A)(this,"getAnonymousId",()=>this._userInfo.anonymousId),(0,n.A)(this,"setUIViewedAttributes",e=>{if(!e)throw Error("Missing uiViewedAttributes");if("object"!=typeof e||Array.isArray(e))throw Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes=rw({},e)}),(0,n.A)(this,"getUIViewedAttributes",()=>this._uiViewedAttributes),(0,n.A)(this,"clearUIViewedAttributes",()=>{this._uiViewedAttributes={}}),(0,n.A)(this,"sendIdentifyEvent",(e,t,r)=>{this.setUserInfo(e,t);let n={userIdType:e,eventType:i.$q.IDENTIFY};return this._processEvent(t,n,this._context,r)}),(0,n.A)(this,"sendPageEvent",(e,t)=>this.sendScreenEvent(e,t)),(0,n.A)(this,"sendScreenEvent",(e,t,r)=>{let n,s,o,a;"object"==typeof e?(n=e.name,s=e.attributes,o=e.containers,a=e.tags):(n=e,s=r),function(e){if(!e)throw Error("Missing name")}(n),V(o);let c=rw({name:n},function(e,t,r,n,s,o,a,c,l,u,d,m,p,h,f,b){let k=E(e),I=y(t),T=v(r),P=w(u),x=C(m),D={title:"",path:"",url:"",referrer:"",search:"",eventType:i.$q.SCREEN};return g(g(g(g(g(g(g(g(g(g(g(g({},k),I),T),P),D),S("attributes",n)),S("nonPrivacySafeAttributes",s)),j(h)),O(p)),{},{tags:o,tabId:a,sessionId:c,taskSessions:l,pageLoadId:d},x),_(f)),A(b))}(this._productInfo,this._tenantInfo,this._userInfo,s,e.nonPrivacySafeAttributes,a,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,e,o,this._aliases,this._groups));return this._setLastScreenEvent(c),this._processEvent(n,c,this._context,rh(t,c))}),(0,n.A)(this,"sendTrackEvent",(e,t)=>{W(e);let r=x(this._productInfo,this._tenantInfo,this._userInfo,e,i.$q.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(P(e),r,this._context,rh(t,r))}),(0,n.A)(this,"sendUIEvent",(e,t)=>{W(e);let r=x(this._productInfo,this._tenantInfo,this._userInfo,e,i.$q.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(P(e),r,this._context,rh(t,r))}),(0,n.A)(this,"sendOperationalEvent",(e,t)=>{W(e);let r=x(this._productInfo,this._tenantInfo,this._userInfo,e,i.$q.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(P(e),r,this._context,rh(t,r))}),(0,n.A)(this,"startUIViewedEvent",e=>{this.stopUIViewedEvent(),this._uiViewedEvent=new rp(this._productInfo,()=>({embeddedProduct:this._productInfo.embeddedProduct(),subproduct:this._productInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),t=>this.sendUIEvent(t,e)),this._uiViewedEvent.start()}),(0,n.A)(this,"stopUIViewedEvent",()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)}),(0,n.A)(this,"resetUIViewedTimers",()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()}),(0,n.A)(this,"startApdexEvent",e=>{this._apdexEvent.start(e)}),(0,n.A)(this,"getApdexStart",e=>this._apdexEvent.getStart(e)),(0,n.A)(this,"stopApdexEvent",(e,t)=>{this._apdexEvent.stop(e,t)}),(0,n.A)(this,"startLowPriorityEventDelay",(e,t)=>{this.eventDelayQueue.startLowPriorityEventDelay(e,t)}),(0,n.A)(this,"stopLowPriorityEventDelay",()=>{this.eventDelayQueue.stopLowPriorityEventDelay()}),(0,n.A)(this,"onEvent",(e,t)=>{if(!t)throw Error("Missing analyticsData");if(!t.eventType)throw Error("Missing analyticsData.eventType");if(t.eventType===i.$q.TRACK)return this.sendTrackEvent(t);if(t.eventType===i.$q.UI)return this.sendUIEvent(t);if(t.eventType===i.$q.OPERATIONAL)return this.sendOperationalEvent(t);if(t.eventType===i.$q.SCREEN)return this.sendScreenEvent(t.name,null,t.attributes);if(t.eventType===i.$q.IDENTIFY)return this.sendIdentifyEvent(t.userIdType,t.userId);throw Error(`Invalid analyticsData.eventType '${t.eventType}', must be an eventType: [${(0,i.KQ)(i.$q)}]`)}),!e)throw Error("Missing productInfo");if(!e.env)throw Error("Missing productInfo.env");if(!e.product)throw Error("Missing productInfo.product");if(!(0,i.Xj)(i.sR,e.env))throw Error(`Invalid productInfo.env '${e.env}', must be an envType: [${(0,i.KQ)(i.sR)}]`);if(e.perimeter&&!(0,i.Xj)(i.KW,e.perimeter))throw Error(`Invalid productInfo.perimeter '${e.perimeter}', must be an perimeterType: [${(0,i.KQ)(i.KW)}]`);if(e.origin){if(!(0,i.Xj)(i.VH,e.origin))throw Error(`Invalid productInfo.origin '${e.origin}', must be an originType: [${(0,i.KQ)(i.VH)}]`)}else e.origin=i.VH.WEB;e.platform?function(e){if(!(0,i.Xj)(i.AQ,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be a platformType: [${(0,i.KQ)(i.AQ)}]`);if(e.origin===i.VH.DESKTOP&&!(0,i.Xj)(i.vB,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [mac, linux, windows]`);if(e.origin===i.VH.WEB&&!(0,i.Xj)(i.LK,e.platform))throw Error(`Invalid productInfo.platform '${e.platform}', must be one of [web, mobileWeb]`)}(e):e.platform=e.origin===i.VH.WEB?i.AQ.WEB:i.AQ.DESKTOP,this.logger=t.logger||console,this._productInfo=rw(rw({},e),{},{subproduct:this._createSubproductGetter(e.subproduct),embeddedProduct:this._createEmbeddedProductGetter(e.embeddedProduct)}),this._tenantInfo={},this._orgInfo={},this._uiViewedAttributes={},this._context=function(e){let t=window.screen||{};return{context:{locale:e.locale,screen:{width:t.width,height:t.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:"4.26.0"}}}}(this._productInfo),this._safeSessionStorage=new t5;let r=this._useStargate(t.useStargate),s=t.apiHost||function({useStargate:e,env:t,useLegacyUrl:r,perimeter:n,envOverride:s}){return n===i.KW.FEDRAMP_MODERATE?t0({useStargate:e,env:t,useLegacyUrl:r,envOverride:s}):t2({useStargate:e,env:t,useLegacyUrl:r})}({useStargate:r,env:e.env,useLegacyUrl:t.useLegacyUrl,perimeter:e.perimeter,envOverride:e.envOverride}),c=t.apiHostProtocol||"https",l={maxRetryDelay:6e4,minRetryDelay:t.minRetryDelay||1e3,backoffFactor:2,flushWaitMs:t.flushWaitInterval,flushBeforeUnload:t.flushBeforeUnload},u=`awc-${e.env}`,m=t.disableCookiePersistence||!1;this.eventProcessor=new tq({apiHost:s,apiHostProtocol:c,product:e.product,retryQueuePrefix:u,retryQueueOptions:l,xidPromiseGetter:()=>ry(t.xidConsent,t.xidPromiseFn),logger:this.logger,disableCookiePersistence:m}),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId(null==t?void 0:t.customAnonymousIdGenerator)},this._pageVisibility=new a,this._tabTracking=new t9,this._sessionTracking=new t6({sessionExpiryTime:t.sessionExpiryTime,onNewSessionStarted:t.onNewSessionStarted}),this.task=new ro,this.originTracing=new tY,this._apdexEvent=new d(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn="function"==typeof t.historyReplaceFn?t.historyReplaceFn:tz,this.eventDelayQueue=new J(this._fireDelayedEvent,t.delayQueueCompressors||[]),this._testingCache=new rl,this._pageLoadId=o()(),this._workspaceInfo={},this._aliases={},this._groups={}}}},"./node_modules/@atlassiansox/analytics-web-client/dist/esm/analyticsWebTypes.js":(e,t,r)=>{"use strict";r.d(t,{$q:()=>s,AQ:()=>o,D0:()=>m,KQ:()=>p,KW:()=>f,LK:()=>d,LR:()=>l,Of:()=>c,VD:()=>b,VH:()=>i,Xj:()=>h,iU:()=>g,sR:()=>n,v7:()=>a,vB:()=>u});let n=function(e){return e.LOCAL="local",e.DEV="dev",e.STAGING="staging",e.PROD="prod",e}({}),s=function(e){return e.TRACK="track",e.UI="ui",e.OPERATIONAL="operational",e.SCREEN="screen",e.IDENTIFY="identify",e}({}),o=function(e){return e.MAC="mac",e.LINUX="linux",e.WINDOWS="windows",e.DESKTOP="desktop",e.WEB="web",e.MOBILE_WEB="mobileWeb",e}({}),i=function(e){return e.DESKTOP="desktop",e.WEB="web",e}({}),a=function(e){return e.CLOUD_ID="cloudId",e.ORG_ID="orgId",e.OPSGENIE_CUSTOMER_ID="opsgenieCustomerId",e.HALP_TEAM_ID="halpTeamId",e.LOOM_ORG_ID="loomOrgId",e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e.TRELLO_WORKSPACE_ID="trelloWorkspaceId",e.NONE="none",e}({}),c=function(e){return e.ATLASSIAN_ACCOUNT="atlassianAccount",e.HASHED_EMAIL="hashedEmail",e.LOOM="loom",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.HALP="halp",e}({}),l=function(e){return e.TRANSITION="transition",e.INITIAL_LOAD="initialLoad",e}({}),u=Object.freeze([o.DESKTOP,o.MAC,o.LINUX,o.WINDOWS]),d=Object.freeze([o.WEB,o.MOBILE_WEB]),m=function(e){return e.ATL_ORIGIN="atlOrigin",e}({});function p(e){return Object.values(e)}function h(e,t){return Object.values(e).indexOf(t)>-1}let f=function(e){return e.C5="c5",e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e.FEDRAMP_HIGH="fedramp-high",e}({}),b={},g=function(e){return e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e}({})},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/bytesToUuid.js":e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]]].join("")}},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/rng-browser.js":e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},"./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/v4.js":(e,t,r)=>{var n=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/rng-browser.js"),s=r("./node_modules/@atlassiansox/analytics-web-client/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[o+a]=i[a];return t||s(i)}},"./node_modules/@segment/isodate-traverse/lib/index.js":(e,t,r)=>{"use strict";var n=r("./node_modules/@segment/isodate/lib/index.js");e.exports=function e(t,r){var s,o;return(void 0===r&&(r=!0),t&&"object"==typeof t)?(s=r,Object.keys(t).forEach(function(r){t[r]=e(t[r],s)}),t):Array.isArray(t)?(o=r,t.forEach(function(r,n){t[n]=e(r,o)}),t):n.is(t,r)?n.parse(t):t}},"./node_modules/@segment/isodate/lib/index.js":(e,t)=>{"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;t.parse=function(e){var t=[1,5,6,7,11,12],n=r.exec(e),s=0;if(!n)return new Date(e);for(var o,i=0;o=t[i];i++)n[o]=parseInt(n[o],10)||0;return n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?s=new Date().getTimezoneOffset():"Z"!==n[9]&&n[10]&&(s=60*n[11]+n[12],"+"===n[10]&&(s=0-s)),new Date(Date.UTC(n[1],n[2],n[3],n[5],n[6]+s,n[7],n[8]))},t.is=function(e,t){return"string"==typeof e&&(!t||!1!==/^\d{4}-\d{2}-\d{2}/.test(e))&&r.test(e)}},"./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js":(e,t,r)=>{"use strict";function n(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}r.d(t,{A:()=>n})},"./node_modules/date-fns/esm/_lib/requiredArgs/index.js":(e,t,r)=>{"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{A:()=>n})},"./node_modules/date-fns/esm/differenceInCalendarDays/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),s=r("./node_modules/date-fns/esm/startOfDay/index.js"),o=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function i(e,t){(0,o.A)(2,arguments);var r=(0,s.A)(e),i=(0,s.A)(t);return Math.round((r.getTime()-(0,n.A)(r)-(i.getTime()-(0,n.A)(i)))/864e5)}},"./node_modules/date-fns/esm/startOfDay/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/date-fns/esm/toDate/index.js"),s=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function o(e){(0,s.A)(1,arguments);var t=(0,n.A)(e);return t.setHours(0,0,0,0),t}},"./node_modules/date-fns/esm/toDate/index.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js"),s=r("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function o(e){(0,s.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,n.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},"./node_modules/decode-uri-component/index.js":e=>{"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},s=n.exec(e);s;){try{t[s[0]]=decodeURIComponent(s[0])}catch(e){var o=function(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),s=t.slice(r);return Array.prototype.concat.call([],e(n),e(s))})(t,n).join("")).match(r)||[];return e}}(s[0]);o!==s[0]&&(t[s[0]]=o)}s=n.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var c=i[a];e=e.replace(RegExp(c,"g"),t[c])}return e}(e)}}},"./node_modules/filter-obj/index.js":e=>{"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),s=Array.isArray(t),o=0;o<n.length;o++){var i=n[o],a=e[i];(s?-1!==t.indexOf(i):t(i,a,e))&&(r[i]=a)}return r}},"./node_modules/js-cookie/src/js.cookie.js":e=>{!function(t){"function"==typeof define&&define.amd&&define(t),e.exports=t()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function s(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},s.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+r+a}}function i(e,r){if("undefined"!=typeof document){for(var s={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var a=o[i].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(s[l]=c,e===l)break}catch(e){}}return e?s[e]:s}}return s.set=o,s.get=function(e){return i(e,!1)},s.getJSON=function(e){return i(e,!0)},s.remove=function(t,r){o(t,"",e(r,{expires:-1}))},s.defaults={},s.withConverter=r,s}(function(){})})},"./node_modules/memoize-one/dist/memoize-one.esm.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function s(e,t){if(e.length!==t.length)return!1;for(var r,s,o=0;o<e.length;o++)if(!((r=e[o])===(s=t[o])||n(r)&&n(s)))return!1;return!0}function o(e,t){void 0===t&&(t=s);var r=null;function n(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){r=null},n}},"./node_modules/process/browser.js":e=>{var t,r,n,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&m())}function m(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||a(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}},"./node_modules/query-string/index.js":(e,t,r)=>{"use strict";let n=r("./node_modules/strict-uri-encode/index.js"),s=r("./node_modules/decode-uri-component/index.js"),o=r("./node_modules/split-on-first/index.js"),i=r("./node_modules/filter-obj/index.js"),a=e=>null==e,c=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function d(e,t){return t.decode?s(e):e}function m(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function p(e){let t=(e=m(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function f(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let s="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!s&&d(r,e).includes(e.arrayFormatSeparator);r=o?d(r,e):r;let i=s||o?r.split(e.arrayFormatSeparator).map(t=>d(t,e)):null===r?r:d(r,e);n[t]=i};case"bracket-separator":return(t,r,n)=>{let s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s){n[t]=r?d(r,e):r;return}let o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>d(t,e));if(void 0===n[t]){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let s of e.split("&")){if(""===s)continue;let[e,i]=o(t.decode?s.replace(/\+/g," "):s,"=");i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:d(i,t),r(d(e,t),i,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=h(r[e],t);else n[e]=h(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=p,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let s=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",s,"]"].join("")]:[...r,[u(t,e),"[",u(s,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?n:(s=null===s?"":s,0===n.length)?[[u(r,e),t,u(s,e)].join("")]:[[n,u(s,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),s={};for(let t of Object.keys(e))r(t)||(s[t]=e[t]);let o=Object.keys(s);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{let s=e[r];return void 0===s?"":null===s?u(r,t):Array.isArray(s)?0===s.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":s.reduce(n(r),[]).join("&"):u(r,t)+"="+u(s,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:f(p(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:d(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[c]:!0},r);let n=m(e.url).split("?")[0]||"",s=t.extract(e.url),o=Object.assign(t.parse(s,{sort:!1}),e.query),i=t.stringify(o,r);i&&(i=`?${i}`);let a=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(a=`#${r[c]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${i}${a}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[c]:!1},n);let{url:s,query:o,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:s,query:i(o,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let s=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,s,n)}},"./node_modules/react/cjs/react.production.min.js":(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,b={};function g(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||h}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,f(w,g.prototype),w.isPureReactComponent=!0;var C=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var s,o={},i=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)_.call(t,s)&&!O.hasOwnProperty(s)&&(o[s]=t[s]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(s in c=e.defaultProps)void 0===o[s]&&(o[s]=c[s]);return{$$typeof:r,type:e,key:i,ref:a,props:o,_owner:A.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function S(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function j(e,t,s){if(null==e)return e;var o=[],i=0;return!function e(t,s,o,i,a){var c,l,u,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var m=!1;if(null===t)m=!0;else switch(d){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case r:case n:m=!0}}if(m)return a=a(m=t),t=""===i?"."+S(m,0):i,C(a)?(o="",null!=t&&(o=t.replace(I,"$&/")+"/"),e(a,s,o,"",function(e){return e})):null!=a&&(E(a)&&(c=a,l=o+(!a.key||m&&m.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t,a={$$typeof:r,type:c.type,key:l,ref:c.ref,props:c.props,_owner:c._owner}),s.push(a)),1;if(m=0,i=""===i?".":i+":",C(t))for(var h=0;h<t.length;h++){var f=i+S(d=t[h],h);m+=e(d,s,o,f,a)}else if("function"==typeof(f=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(t=f.call(t),h=0;!(d=t.next()).done;)f=i+S(d=d.value,h++),m+=e(d,s,o,f,a);else if("object"===d)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(s=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return m}(e,o,"","",function(e){return t.call(s,e,i++)}),o}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},x={transition:null};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,r){j(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:x,ReactCurrentOwner:A},t.act=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!O.hasOwnProperty(l)&&(s[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:r,type:e.type,key:o,ref:i,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.transition;x.transition={};try{e()}finally{x.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},"./node_modules/react/index.js":(e,t,r)=>{"use strict";e.exports=r("./node_modules/react/cjs/react.production.min.js")},"./node_modules/split-on-first/index.js":e=>{"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},"./node_modules/strict-uri-encode/index.js":e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},"./packages/browser/index.ts":(e,t,r)=>{"use strict";r.d(t,{Pi:()=>K,oJ:()=>d,IO:()=>a,eO:()=>l,fm:()=>F,Z0:()=>S,ft:()=>B,m0:()=>C,zC:()=>V,H8:()=>b,xl:()=>I,F3:()=>f,oi:()=>D,Ab:()=>U,Cr:()=>M,gm:()=>p,mc:()=>N,lT:()=>m,mU:()=>O,N1:()=>A,aR:()=>k,j9:()=>w,cX:()=>v,nr:()=>g,CI:()=>E,uF:()=>y,ME:()=>u,E4:()=>R,SQ:()=>L});var n=r("./packages/config/index.ts");let s="unknown-browser-version",o=(e,t)=>{let{userAgent:r}=t,n=r.indexOf(e);if(-1!==n){let t=r.substring(n+e.length+1);return t.includes(".")?parseFloat(t.split(".").slice(0,2).join(".")):parseInt(t,10)}return s},i=e=>{if(!e.userAgent.includes("CriOS"))return o("Version",e);{let t=e.userAgent.match(/OS ([0-9]+)_[0-9]+(_[0-9]+)? like Mac OS X/);return t?+t[1]:s}},a=((e,t)=>{let{userAgent:r,vendor:n}=e,s=!!t.documentMode,o=r.includes("Edg/"),i=r.includes("Edge"),a=r.includes("Opera")||r.includes("OPR"),c=r.includes("Vivaldi"),l=r.includes("Firefox"),u=r.includes("UCBrowser"),d=r.includes("SamsungBrowser"),m=n.includes("Yandex"),p=r.includes("Chrom")&&!o&&!i&&!a&&!m&&!c&&!d&&!u,h=r.includes("CriOS")||n.includes("Apple")&&!p;switch(!0){case p:return"chrome";case l:return"firefox";case h:return"safari";case o:return"edg";case i:return"edge-legacy";case s:return"explorer";case a:return"opera";case m:return"yandex";case c:return"vivaldi";case u:return"ucbrowser";case d:return"samsung";default:return"unknown-browser"}})(navigator,document),c=((e,t)=>{switch(e){case"chrome":{let e=o("Chrome",t);return e!==s?e:o("CriOS",t)}case"firefox":return o("Firefox",t);case"safari":return i(t);case"edg":return o("Edg",t);case"edge-legacy":return o("Edge",t);case"opera":return o("OPR",t);case"explorer":{let e=o("MSIE",t);return e!==s?e:o("rv",t)}case"yandex":return o("YaBrowser",t);case"vivaldi":return o("Vivaldi",t);case"samsung":return o("SamsungBrowser",t);case"ucbrowser":return o("UCBrowser",t);default:return s}})(a,navigator),l=`${a}-${c}`,u=(e=>{let{userAgent:t,platform:r}=e,n=r.includes("Win"),s=r.includes("Mac"),o=r.includes("Linux"),i=t.includes("Android"),a=t.includes("iPad"),c=t.includes("iPod"),l=t.includes("iPhone");switch(!0){case n:return"windows";case s:return"mac";case a:return"ipad";case c:return"ipod";case l:return"iphone";case i:return"android";case o:return"linux";default:return"unknown-os"}})(navigator),d=`${a} ${l} ${u}`,m=()=>"explorer"===a,p=()=>"firefox"===a,h=()=>"edg"===a,f=()=>"edge-legacy"===a,b=()=>"chrome"===a,g=()=>"safari"===a,y=()=>"windows"===u,v=()=>"mac"===u,w=()=>"linux"===u,C=()=>"android"===u,_=()=>"ipad"===u,A=()=>"ipod"===u,O=()=>"iphone"===u,k=()=>_()||O()||A(),E=()=>_()||O()||A()||C(),I=()=>n.R0===n.l0.Desktop,S=()=>navigator.language||navigator.browserLanguage||"unknown";var j=r("./node_modules/memoize-one/dist/memoize-one.esm.js"),T=r("./packages/cookies/src/cookies.ts");let P=(0,j.A)(e=>"true"===T.W.get("force_atlassian_embeddedDocument")),x=(0,j.A)(e=>"true"===T.W.get("force_embeddedDocument")||P(e));function D(){return x(document.cookie)||window.top!==window.self}let N=()=>window.devicePixelRatio>1,R=()=>b()||p()||h(),L=()=>b()||p()||g(),M=()=>{if(!D())return!1;let e=new URLSearchParams(window.location.search);return e.has("iframeSource")&&"msteams"===e.get("iframeSource")},U=()=>{if(P(document.cookie))return!0;if(!D())return!1;let e=new URLSearchParams(window.location.search);return e.has("iframeSource")&&"atlassian-smart-link"===e.get("iframeSource")},F=()=>I()||M()||U();function B(){return"ResizeObserver"in window}let $={chrome:125,firefox:115,edg:125,safari:16,opera:109,vivaldi:3};function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return t!==s&&!!Object.prototype.hasOwnProperty.call($,e)&&t>=$[e]}class K{disconnect(){}observe(){}unobserve(){}}},"./packages/config/index.ts":(e,t,r)=>{"use strict";var n,s;r.d(t,{l0:()=>o,$8:()=>F,qV:()=>N,ad:()=>R,fg:()=>D,R0:()=>a,Nc:()=>L,Jr:()=>et,Xj:()=>_,R4:()=>A,Pf:()=>es,PI:()=>C,ac:()=>T,Sn:()=>Z,Ov:()=>ee,JR:()=>b,$B:()=>l,CT:()=>c,cZ:()=>j,vT:()=>q,iD:()=>Q,cA:()=>M,lk:()=>g,A5:()=>W,kO:()=>G,Gw:()=>E,_Y:()=>I,dq:()=>S,oO:()=>x,tp:()=>d,l$:()=>m,Jt:()=>U,jg:()=>h,So:()=>J,Mf:()=>B,qT:()=>v,Hg:()=>er,Qq:()=>O,Eu:()=>w,qX:()=>V,U$:()=>K,Zz:()=>k,kJ:()=>Y,Q7:()=>y,tx:()=>$,Yq:()=>H,mx:()=>en,rX:()=>p,xZ:()=>P,mW:()=>f,w0:()=>z});let o={Desktop:"desktop"},i=window.init_config||{},a=i.appId||null,c=i.dontDismissNotifications||null;i.limitMemoryUsage;let l=i.desktopVersion||"0";function u(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d="chlg06CfblVj204fihGEqA",m="env-8",p="https://trello-slack.services.atlassian.com",h=!1,f="https://p.trellocdn.com",b="56d5e249a98895a9797bebb9",g="5a999cd36066c584c097f193",y="5f4ff6881ce8e97c81d2f605",v="5c2462c384ab8949b1724a20",w="5ad892c30b141641d32919bf",C="588a331cc86ffbe08f5d2c67",_="https://trello-attachments.s3.amazonaws.com",A="https://trello-backgrounds.s3.amazonaws.com",O="https://trello-logos.s3.amazonaws.com",k="f7936f71-2186-4c33-8553-134e287aefdf",E="330642982326-o2b8p0glj3m1o0sgllrpas2m8j9hjn7i.apps.googleusercontent.com",I="AIzaSyAvSBSs9sIV0S5wf4ivvDrwYp6Q20e7jGE",S="122616814543-k4q6th338f4j05dkv1qgvcbutlpa0voe.apps.googleusercontent.com",j="36ipz29apw2svq8",T="zclwcvudmddhz0cscz3w6awtcfs8bne3",P="pk_live_51IaUVrBgOoA7vC4WlHhHNjTeOOqbF7d56Ge0Vvju0qbrBJGLdBmpeGQntGWaCgVKPk3c2itZOuTuFjcxmMyC6g4m00DL5aSU1K",x="AIzaSyBGuM0ku7LVKH0l45qQsvvUnG2H2jUX0GU",D="PROD",N="trello.com/gateway/api/gasv3/api/v1",R="https",L="1f24403e-f053-43de-b063-e20b357a8f63",M="prod",U="https://id.atlassian.com",F="https://admin.atlassian.com",B="https://janus.prod.atl-paas.net",$="https://1609e814bfa14a3db09f984e6426cfd3@o55978.ingest.sentry.io/5988847",V="6052d130068a8c0de7b022b4",K="https://appsource.microsoft.com/en-us/product/office/WA200002592?tab=Overview",W="6052d16c340ed23e9da083ed",G="https://workspace.google.com/marketplace/app/trello_for_gmail/710372432947",q="6052d0bb1b3c162630f54230",H=!0,z="https://trello-server.us-east-1.prod.atl-paas.net",Q="inbox@app.trello.com",Y="8f9e7052-1437-463f-ae39-e3db0930a4a5",J=!1,X=null!==(n=null===(s=window)||void 0===s?void 0:s.trelloVersion)&&void 0!==n?n:"dev-0",Z=new class{constructor(e){u(this,"head",void 0),u(this,"patch",0),u(this,"version",void 0);let t=e.split("-");this.head=t.slice(0,-1).join("-"),this.version=parseFloat(t.slice(-1)[0])}toString(){return`${this.head}-${this.fullVersion()}`}toJSON(){return this.toString()}fullVersion(){return[this.version,this.patch].filter(e=>e).join(".")||0}}(X),ee=Z.toString(),et=["538627f73cbb44d1bfbb58f0","58adea146fcdb5f4e50bebf2"],er=window.locale||"en",en=location.origin||/^[^/]+?[/]{2}[^/]+/.exec(location.href)[0],es=window.__bifrost_track__},"./packages/cookies/src/cookies.ts":(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/initialize-controls/index.js"),s=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-strictly-necessary-cookie/index.js"),o=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/set-cookie/index.js"),i=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/get-cookie/index.js"),a=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/cookie-controls/delete-cookie/index.js"),c=r("./node_modules/@atlassian/browser-storage-controls/dist/esm/controllers/third-party-controls/check-third-party/index.js");class l{static initialize(){(0,n.bX)({product:"Trello"})}static async set(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"use_preferences";return"necessary"===n?((0,s.G)(e,t,r),Promise.resolve(!0)):await (0,o.T)(e,t,r)==="SUCCESS"}static get(e){return e?(0,i.R)(e):(0,i.R)()}static remove(e,t){(0,a.Y)(e,t)}static async checkThirdParty(e,t,r){await (0,c.W)(e,t,r)}}},"./packages/dynamic-config/src/data/dynamicConfigFlags.ts":(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n={butler_ent_admin_only_allowlist:{createdOn:"2024-11-18",defaultValue:[],owner:"ssilber"},tplat_max_first_idle_delay:{createdOn:"2024-10-23",defaultValue:18e4,owner:"vkozachok"},trello_web_atlassian_team:{createdOn:"2024-11-13",defaultValue:!1,owner:"rwang3"},trello_web_billing_down_for_maintenance:{createdOn:"2024-11-08",defaultValue:!1,owner:"jmatthews"},trello_web_google_tag_manager:{createdOn:"2024-11-04",defaultValue:!0,owner:"mfaith"},trello_web_somethings_wrong:{createdOn:"2024-11-07",defaultValue:!1,owner:"mfaith"}}},"./packages/dynamic-config/src/dynamicConfig.constants.ts":(e,t,r)=>{"use strict";r.d(t,{KK:()=>o,Wu:()=>i,e_:()=>s,iD:()=>n});let n=864e5,s="dynamicConfigUserData",o="dynamicConfigClient",i="dynamicConfigOverrides"},"./packages/feature-flag-client/src/getRecordedFeatureFlag.ts":(e,t,r)=>{"use strict";let n;r.d(t,{r:()=>o});var s=r("./packages/storage/index.ts");function o(e,t){var r;let o=s._q.get("featureFlagSnapshot"),{remote:i={},overrides:a={}}=null!=o?o:{},c=a[e],l=i[e],u=null!==(r=null!=c?c:l)&&void 0!==r?r:t;return"fep.native-current-board-full"===e?(void 0===n&&(n=u),n):u}},"./packages/id-cache/index.ts":(e,t,r)=>{"use strict";r.d(t,{ij:()=>s,qv:()=>p,g$:()=>h,x2:()=>i});let n=RegExp("^[a-f0-9]*$");function s(e){return(null!=e?e.constructor.name:void 0)==="ObjectID"||(null!=e?e.length:void 0)===24&&n.test(e)}let o=RegExp("ari:cloud:trello::[^/]+/(.+/)?[a-z0-9]{24}$");function i(e){return"string"==typeof e&&/^[a-zA-Z0-9]{8}$/.test(e)}function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c={Card:{isValid:i,getErrorMsg:e=>`Invalid card shortLink: ${e}`},Board:{isValid:i,getErrorMsg:e=>`Invalid board shortLink: ${e}`},Member:{isValid:e=>!0,getErrorMsg:e=>`Invalid member username: ${e}`},Workspace:{isValid:e=>!0,getErrorMsg:e=>`Invalid workspace name: ${e}`}},l={ari:{isValid:function(e){return o.test(e)},getErrorMsg:e=>`Invalid ARI: ${e}`},id:{isValid:s,getErrorMsg:e=>`Invalid id: ${e}`}},u=()=>({Card:{},Board:{},Member:{},Workspace:{}});var d=new WeakSet;function m(e){return Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{})}let p=new class{constructor(){!function(e,t){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}(this,d),a(this,"idMap",u()),a(this,"ariMap",u())}reset(){this.idMap=u(),this.ariMap=u()}getId(e,t){if(c[e].isValid(t))return this.idMap[e][t]}setId(e,t,r){if(!l.id.isValid(r))throw Error(l.id.getErrorMsg(r));if(!c[e].isValid(t))throw Error(c[e].getErrorMsg(t));this.idMap[e][t]=r}getAri(e,t){if(c[e].isValid(t))return this.ariMap[e][t]}setAri(e,t,r){if(!l.ari.isValid(r))throw Error(l.ari.getErrorMsg(r));if(!c[e].isValid(t))throw Error(c[e].getErrorMsg(t));this.ariMap[e][t]=r}setCardId(e,t){return this.setId("Card",e,t)}setBoardId(e,t){return this.setId("Board",e,t)}setMemberId(e,t){return this.setId("Member",e,t)}setWorkspaceId(e,t){return this.setId("Workspace",e,t)}getCardId(e){return this.getId("Card",e)}getBoardId(e){return this.getId("Board",e)}getMemberId(e){return this.getId("Member",e)}getWorkspaceId(e){return this.getId("Workspace",e)}setCardAri(e,t){return this.setAri("Card",e,t)}setBoardAri(e,t){return this.setAri("Board",e,t)}setMemberAri(e,t){return this.setAri("Member",e,t)}setWorkspaceAri(e,t){return this.setAri("Workspace",e,t)}getCardAri(e){return this.getAri("Card",e)}getBoardAri(e){return this.getAri("Board",e)}getMemberAri(e){return this.getAri("Member",e)}getWorkspaceAri(e){return this.getAri("Workspace",e)}__getBoardShortLinkById__DO_NOT_USE(e){if(s(e))return(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")})(d,this,m).call(this,this.idMap.Board)[e]}};function h(e){return/^[0-9]{1,8}$/.test(e.toString())}},"./packages/invitation-tokens/src/getInvitationTokens.ts":(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});let n=()=>{let e;let t=[],r=/invite-token-[-a-f0-9]*=([^;]+)/g;for(;e=null===(n=r.exec(document.cookie))||void 0===n?void 0:n[1];){var n;t.push(unescape(e))}if(t.length>0)return t.join(",")}},"./packages/quickload/src/cleanPreload.ts":(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n=e=>({isLoading:e.isLoading,start:e.start,used:e.used,url:e.url})},"./packages/quickload/src/formatUrl.ts":(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r("./packages/invitation-tokens/src/getInvitationTokens.ts");let s=(e,t)=>{var r,s;let{rootId:o,idModel:i}=t,a=e.replace(o,i),c=null===(r=window)||void 0===r||null===(r=r.document)||void 0===r?void 0:r.cookie;if(RegExp("^/1/search").test(e)){let e=null===(s=/dsc=([^;]+)/.exec(c))||void 0===s?void 0:s[1];a+=`&dsc=${null!=e?e:"undefined"}`}let l=(0,n.Q)(),u=a.includes("?");return a+(l?`${u?"&":"?"}invitationTokens=${l}`:"")}},"./packages/quickload/src/getPreloadsFromPath.ts":(e,t,r)=>{"use strict";r.d(t,{m:()=>b});var n=r("./packages/storage/index.ts"),s=r("./packages/dynamic-config/src/data/dynamicConfigFlags.ts"),o=r("./packages/dynamic-config/src/dynamicConfig.constants.ts");let i=e=>{var t,r,i;let a=JSON.parse(null!==(r=(null!==(t=n._q.get(o.KK))&&void 0!==t?t:{}).config)&&void 0!==r?r:"{}"),c=n._q.get(o.Wu)||{},l=a[e],u=c[e],d=s.l[e].defaultValue;return null!==(i=null!=u?u:l)&&void 0!==i?i:d};var a=r("./packages/feature-flag-client/src/getRecordedFeatureFlag.ts"),c=r("./packages/id-cache/index.ts"),l=r("./packages/quickload/src/formatUrl.ts");let u={header:{taskName:null,requests:[{url:"/1/member/:idMember?fields=id%2CaaBlockSyncUntil%2CaaEmail%2CaaId%2CactivityBlocked%2CavatarHash%2CavatarUrl%2Cbio%2CbioData%2Cconfirmed%2CcredentialsRemovedCount%2CdomainClaimed%2Cemail%2CfullName%2CidBoards%2CidEnterprise%2CidEnterprisesAdmin%2CidEnterprisesDeactivated%2CidEnterprisesImplicitAdmin%2CidMemberReferrer%2CidOrganizations%2CidPremOrgsAdmin%2Cinitials%2CisAaMastered%2CixUpdate%2Climits%2CloginTypes%2CmarketingOptIn%2CmemberType%2CmessagesDismissed%2CnodeId%2CnonPublic%2CnonPublicAvailable%2ConeTimeMessagesDismissed%2Cprefs%2CpremiumFeatures%2Cproducts%2CrequiresAaOnboarding%2CsessionType%2Cstatus%2Ctrophies%2Curl%2Cusername&campaigns=true&enterpriseLicenses=true&enterprises=true&enterprise_filter=saml%2Cmember%2Cmember-unconfirmed%2Cowned&enterprise_fields=id%2CdisplayName%2CidAdmins%2ClogoUrl%2Cname%2Coffering%2CorganizationPrefs%2Cprefs%2Csandbox%2CsandboxExpiry&enterpriseWithRequiredConversion=true&logins=true&organizations=all&organization_fields=id%2CcreationMethod%2CdisplayName%2CenterpriseJoinRequest%2CidEnterprise%2CidEntitlement%2CjwmLink%2ClogoHash%2Cname%2Coffering%2CpremiumFeatures%2Cproducts&organization_enterprise=true&organization_paidAccount=true&organization_paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CdatePendingDisabled%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CdatePendingDisabled%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&pluginData=true&savedSearches=true&teamify=true",rootId:":idMember",operationName:"quickload:MemberHeader",modelName:"Member"},{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2CnodeId%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Cstarred%2Csubscribed%2Curl&board_memberships=me&boardStars=true&credits=invitation%2CpromoCode&organizations=all&organization_fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts",rootId:":idMember",operationName:"quickload:MemberBoards",modelName:"Member"}]},"^/b/([^/]+)":{taskName:"view-board",requests:[{url:"/1/board/:idBoard?fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2Cdesc%2CdescData%2CenterpriseOwned%2CidEnterprise%2CidMemberCreator%2CidOrganization%2CidTags%2ClabelNames%2Climits%2Cmemberships%2Cname%2CnodeId%2CpowerUps%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Csubscribed%2CtemplateGallery%2Curl&organization_disable_mock=true&boardPlugins=true&customFields=true&enterprise=true&enterprise_fields=id%2CaiPrefs%2CdisplayName&labels=all&label_fields=id%2Ccolor%2CidBoard%2Cname&labels_limit=1000&members=all&member_fields=id%2CactivityBlocked%2CavatarUrl%2Cbio%2CbioData%2Cconfirmed%2CfullName%2CidEnterprise%2CidMemberReferrer%2CidPremOrgsAdmin%2Cinitials%2CmemberType%2CnonPublic%2Curl%2Cusername&memberships_orgMemberType=true&myPrefs=true&organization=true&organization_fields=id%2Cdesc%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Curl%2Cwebsite&organization_enterprise=true&organization_memberships=all&organization_pluginData=true&organization_tags=true&pluginData=true",rootId:":idBoard",operationName:"quickload:CurrentBoardInfo",modelName:"Board"},{url:"/1/board/:idBoard?fields=id&cards=visible&card_fields=id%2Caddress%2Cbadges%2CcardRole%2Cclosed%2Ccoordinates%2Ccover%2CcreationMethodError%2CdateLastActivity%2Cdesc%2CdescData%2Cdue%2CdueComplete%2CdueReminder%2CidAttachmentCover%2CidBoard%2CidLabels%2CidList%2CidMembers%2CidShort%2CisTemplate%2Clabels%2Climits%2ClocationName%2CmirrorSourceId%2Cname%2Cpinned%2Cpos%2CshortLink%2CshortUrl%2Cstart%2Csubscribed%2Curl&card_attachments=true&card_attachment_fields=id%2Cbytes%2Cdate%2CedgeColor%2CfileName%2CidMember%2CisUpload%2CmimeType%2Cname%2Cpos%2Curl&card_checklists=all&card_checklist_fields=id%2CidBoard%2CidCard%2Cname%2Cpos&card_checklist_checkItems=none&card_customFieldItems=true&card_pluginData=true&card_stickers=true&lists=open&list_fields=id%2Cclosed%2Ccolor%2CcreationMethod%2Cdatasource%2CidBoard%2Climits%2Cname%2Cpos%2CsoftLimit%2Csubscribed%2Ctype",rootId:":idBoard",operationName:"quickload:CurrentBoardListsCards",modelName:"Board"},{url:"/gateway/api/graphql",rootId:":idBoard",operationName:"quickload:TrelloCurrentBoardInfo",modelName:"TrelloBoard",featureFlag:{key:"fep.native-current-board-full",value:"true",defaultValue:"true"},graphQLPayload:{query:'query TrelloCurrentBoardInfo($id:TrelloShortLink!){trello{boardByShortLink(shortLink:$id)@optIn(to:"TrelloBoard"){id __typename closed creationMethod creator{id __typename objectId}customFields{__typename edges{node{__typename display{__typename cardFront}name objectId options{__typename color objectId position value{__typename text}}position type}}}description{__typename customData{emojis(first:-1){edges{node{name url}}}}text}enterprise{id __typename displayName objectId}enterpriseOwned galleryInfo{id __typename avatarShape avatarUrl blurb byline category{__typename key}featured language{__typename description enabled language locale localizedDescription}precedence stats{__typename copyCount viewCount}}labels(first:-1){__typename edges{node{id __typename color name objectId}}}lastActivityAt limits{__typename attachments{__typename perBoard{__typename disableAt status warnAt}perCard{__typename disableAt status warnAt}}boards{__typename totalMembersPerBoard{__typename disableAt status warnAt}}cards{__typename openPerBoard{__typename disableAt status warnAt}openPerList{__typename disableAt status warnAt}totalPerBoard{__typename disableAt status warnAt}totalPerList{__typename disableAt status warnAt}}checkItems{__typename perChecklist{__typename disableAt status warnAt}}checklists{__typename perBoard{__typename disableAt status warnAt}perCard{__typename disableAt status warnAt}}customFieldOptions{__typename perField{__typename disableAt status warnAt}}customFields{__typename perBoard{__typename disableAt status warnAt}}labels{__typename perBoard{__typename disableAt status warnAt}}lists{__typename openPerBoard{__typename disableAt status warnAt}totalPerBoard{__typename disableAt status warnAt}}reactions{__typename perAction{__typename disableAt status warnAt}uniquePerAction{__typename disableAt status warnAt}}stickers{__typename perCard{__typename disableAt status warnAt}}}members(first:-1){__typename edges{__typename membership{__typename deactivated objectId type unconfirmed workspaceMemberType}node{id __typename activityBlocked avatarUrl bio bioData confirmed enterprise{id __typename objectId}fullName initials nonPublicData{__typename avatarUrl fullName initials}objectId url username}}}name objectId powerUpData(first:-1){__typename edges{node{__typename access objectId powerUp{objectId}scope value}}}powerUps(filter:{access:"enabled"},first:-1){edges{__typename node{__typename objectId}objectId}}prefs{__typename background{__typename bottomColor brightness color image imageScaled{height url width}tile topColor}calendarFeedEnabled canInvite cardAging cardCovers comments hiddenPowerUpBoardButtons{__typename objectId}hideVotes invitations isTemplate permissionLevel selfJoin switcherViews{__typename enabled viewType}voting}premiumFeatures shortLink shortUrl tags(first:-1){__typename edges{node{__typename objectId}}}url viewer{__typename calendarKey email{__typename key list{id __typename objectId}position}lastSeenAt sidebar{__typename show}subscribed}workspace{id __typename description displayName enterprise{id __typename displayName objectId}limits{__typename freeBoards{__typename disableAt status warnAt}freeCollaborators{__typename disableAt status warnAt}totalMembers{__typename disableAt status warnAt}}logoHash members(first:-1){__typename edges{__typename membership{__typename deactivated objectId type unconfirmed}node{id __typename objectId}}}name objectId offering prefs{__typename associatedDomain attachmentRestrictions boardDeleteRestrict{__typename enterprise org private public}boardInviteRestrict boardVisibilityRestrict{__typename enterprise org private public}externalMembersDisabled orgInviteRestrict permissionLevel}tags(first:-1){__typename edges{node{__typename name objectId}}}url website}}}}',variables:{id:":idBoard"},operationName:"TrelloCurrentBoardInfo"}}]},"^//([^/]*([^/]+))$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"},{url:"/1/search?query=:searchTerm&partial=true&modelTypes=boards&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl",rootId:":searchTerm",operationName:"quickload:QuickBoardsSearch",modelName:"Search"}]},"^/search":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"}]},"^//$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boardStars=true",rootId:":idMember",operationName:"quickload:MemberQuickBoards",modelName:"Member"}]},"^/c/([^/]+)":{taskName:"view-board",requests:[{url:"/1/card/:idCard?fields=id%2Cbadges%2CcardRole%2Cclosed%2Ccover%2CcreationMethod%2CcreationMethodError%2CdateLastActivity%2Cdesc%2CdescData%2Cdue%2CdueComplete%2CdueReminder%2Cemail%2CidAttachmentCover%2CidBoard%2CidChecklists%2CidLabels%2CidList%2CidMemberCreator%2CidMembers%2CidMembersVoted%2CidShort%2CisTemplate%2Clabels%2Climits%2CmanualCoverAttachment%2Cname%2Cpinned%2Cpos%2CshortLink%2CshortUrl%2Cstart%2Csubscribed%2Curl&attachments=true&attachment_fields=id%2Cbytes%2Cdate%2CedgeColor%2CfileName%2CidMember%2CisUpload%2CmimeType%2Cname%2Cpos%2Cpreviews%2Curl&customFieldItems=true&pluginData=true&stickers=true&sticker_fields=id%2Cimage%2CimageScaled%2CimageUrl%2Cleft%2Crotate%2Ctop%2CzIndex",rootId:":idCard",operationName:"quickload:PreloadCard",modelName:"Card"}],deferredPreloads:["CurrentBoardInfo","CurrentBoardListsCards"]},"^/w/([^/]+)/billing$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Cmemberships%2Cname%2Coffering%2Cprefs%2Cproducts&enterprise=true&memberships=active",rootId:":idOrganization",operationName:"quickload:OrganizationBillingPage",modelName:"Organization"}]},"^/([^/]+)/billing$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Cmemberships%2Cname%2Coffering%2Cprefs%2Cproducts&enterprise=true&memberships=active",rootId:":idOrganization",operationName:"quickload:OrganizationBillingPage",modelName:"Organization"}]},"^/w/(?!search)(?!create-first-team)(?!blank)(?!shortcuts)(?!templates)(?!redeem)([^/]+)$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=29&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&enterprise=true&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceBoardsPageMinimal",modelName:"Organization"}]},"^/(?!search)(?!create-first-team)(?!blank)(?!shortcuts)(?!templates)(?!redeem)([^/]+)$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=29&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&enterprise=true&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceBoardsPageMinimal",modelName:"Organization"}]},"^/w/([^/]+)/home$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=100&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&board_membershipCounts=active&board_starCounts=organization&enterprise=true&members=all&member_fields=id&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceHomePageMinimal",modelName:"Organization"}]},"^/([^/]+)/home$":{taskName:null,requests:[{url:"/1/organization/:idOrganization?fields=id%2CbillableCollaboratorCount%2Ccredits%2Cdesc%2CdescData%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cmemberships%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts%2Cwebsite&boards=open&boards_count=100&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2CidTags%2Cname%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Curl&boards_sortBy=dateLastActivity&boards_sortOrder=desc&board_membershipCounts=active&board_starCounts=organization&enterprise=true&members=all&member_fields=id&memberships=active&paidAccount=true&paidAccount_fields=billingDates%2CcanRenew%2CcardLast4%2CcardType%2CcontactEmail%2CcontactFullName%2CcontactLocale%2Ccountry%2CdateFirstSubscription%2CexpirationDates%2CinvoiceDetails%2CixSubscriber%2CneedsCreditCardUpdate%2CpaidProduct%2CpreviousSubscription%2CproductOverride%2Cproducts%2CscheduledChange%2Cstanding%2CstateTaxId%2CtaxId%2CtrialExpiration%2CtrialType%2Czip&tags=true",rootId:":idOrganization",operationName:"quickload:WorkspaceHomePageMinimal",modelName:"Organization"}]},"^/u/([^/]+)/boards$":{taskName:null,requests:[{url:"/1/member/:idMember?fields=id&boards=open%2Cstarred&board_fields=id%2Cclosed%2CcreationMethod%2CdateLastActivity%2CdateLastView%2CdatePluginDisable%2CenterpriseOwned%2CidEnterprise%2CidOrganization%2Cname%2CnodeId%2Cprefs%2CpremiumFeatures%2CshortLink%2CshortUrl%2Csubscribed%2Curl&board_memberships=me&board_organization=true&board_organization_fields=id%2Ccredits%2CdisplayName%2CidEnterprise%2Climits%2ClogoHash%2Cname%2Coffering%2Cprefs%2CpremiumFeatures%2Cproducts&boardStars=true&credits=invitation%2CpromoCode&organizations=all&organization_fields=id%2Ccredits%2Climits%2Cprefs%2CpremiumFeatures&organization_memberships=all",rootId:":idMember",operationName:"quickload:MemberBoardsHome",modelName:"Member"}]}};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,s;n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let p=e=>!e.featureFlag||(0,a.r)(e.featureFlag.key,e.featureFlag.defaultValue)===e.featureFlag.value,h=e=>!e.dynamicConfig||i(e.dynamicConfig.key)===e.dynamicConfig.value,f=e=>p(e)&&h(e),b=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document.cookie;let n=t.replace(/\?(.*)$/,""),s=Object.keys(u).find(e=>{if("header"===e)return!1;let t=u[e].requests,r=new RegExp(e);return!!t.find(f)&&r.test(n)}),o=s&&u[s].requests.filter(f),i=s&&u[s].deferredPreloads?u[s].deferredPreloads:[],a=s&&u[s].taskName||null,d=(null===(e=new RegExp(s||"").exec(n))||void 0===e?void 0:e[1])||"";RegExp("^/search$").test(t)&&(d=new URLSearchParams(r).get("q")||"");let p=(0,c.x2)(d);return{path:n,preloads:u.header.requests.filter(f).concat(o||[]).filter(e=>{let{graphQLPayload:t}=e;return!t||p}).map(e=>{let{url:t,rootId:r,operationName:n,modelName:s,graphQLPayload:o}=e,i={url:(0,l.J)(t,{rootId:r,idModel:":idMember"===r?"me":d}),operationName:n,modelName:s,queryName:n.replace("quickload:",""),taskName:a};return o&&(i.graphQLPayload=m(m({},o),{},{variables:{id:":idMember"===r?"me":d}})),i}),deferredPreloads:i,param:d}}},"./packages/quickload/src/preloadsHash.ts":(e,t,r)=>{"use strict";r.d(t,{P:()=>s,x:()=>n});let n=e=>{let{url:t,graphQLPayload:r}=e;if(!r)return t;{let{operationName:e,variables:t}=r;return`${e}:${JSON.stringify(t)}`}},s={}},"./packages/quickload/src/quickload.ts":(e,t,r)=>{"use strict";r.d(t,{I:()=>b});var n=r("./packages/feature-flag-client/src/getRecordedFeatureFlag.ts"),s=r("./packages/quickload/src/cleanPreload.ts"),o=r("./packages/quickload/src/getPreloadsFromPath.ts");let i=()=>{let e="";for(let t=0;t<16;t+=1)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e},a=()=>Math.floor(Date.now()/1e3).toString(16)+(i().slice(8)+i());function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var l=r("./packages/quickload/src/preloadsHash.ts");let u=function(e){try{return JSON.parse(e)}catch(e){return null}},d=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unknown",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"quickload",a=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=new Headers;l.append("Content-Type","application/json; charset=utf-8"),l.append("Accept","application/json"),l.append("X-Trello-Client-Version",window.trelloVersion||"dev-0"),l.append("X-Trello-Operation-Source",o),l.append("X-Trello-Operation-Name",s),a&&(l.append("X-Trello-TraceId",a),l.append("X-B3-TraceId",a),l.append("X-B3-SpanId",i()),l.append("X-Trello-Task",c||"not-implemented")),(async()=>{try{let o=!0===(0,n.r)("fep.operation-name-in-url",!1),i=await fetch(o&&s?`${e}?operationName=${s}`:e,{method:"POST",headers:l,body:JSON.stringify(t)});if(i.ok){let e=await i.json();r(null,[e,null])}else r([i.status,await i.text()])}catch(e){r([0,"failed to fetch"])}})()},m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"model-loader",o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,c=new XMLHttpRequest,l=!0===(0,n.r)("fep.operation-name-in-url",!1);c.open("GET",l&&r?`${e}&operationName=${r}`:e,!0),c.setRequestHeader("Accept","application/json,text/plain"),c.setRequestHeader("X-Trello-Client-Version",window.trelloVersion||"dev-0"),c.setRequestHeader("X-Trello-Operation-Source",s),c.setRequestHeader("X-Trello-Operation-Name",r),o&&(c.setRequestHeader("X-Trello-TraceId",o),c.setRequestHeader("X-B3-TraceId",o),c.setRequestHeader("X-B3-SpanId",i()),c.setRequestHeader("X-Trello-Task",a||"not-implemented")),c.onreadystatechange=function(){4===c.readyState&&(200!==c.status?t([c.status,c.responseText]):t(null,[u(c.responseText),c]))},c.send(null)},p=function(e){e in l.P&&delete l.P[e]},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preload",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(!e)return;let o={isLoading:!0,callbacks:[],start:Date.now(),used:!1,url:e,traceId:n},i=(0,l.x)({url:e,graphQLPayload:r});if(l.P[i]=o,r){d(e,r,function(e,t){if(o.isLoading=!1,e){for(let t of(o.error=e,Array.from(o.callbacks)))t(e);return}for(let e of(o.data=t,Array.from(o.callbacks)))e(null,t)},t,"quickload",n,s);return}m(e,function(e,t){let r;if(o.isLoading=!1,e){for(r of(o.error=e,Array.from(o.callbacks)))r(e);return}for(r of(o.data=t,Array.from(o.callbacks)))r(null,t)},t,"quickload",n,s)},f={init(){let e=a(),{preloads:t}=(0,o.m)();for(let{url:r,operationName:n,graphQLPayload:s,taskName:o}of t)h(r,n,s,e,o)},getPreloadsFromPath:o.m,makeUrl:function(e,t){var r,n;let s,o;o=void 0===t?{}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,s;n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t);let i=[],a=/invite-token-[-a-f0-9]*=([^;]+)/g;for(;void 0!==(s=null===(r=a.exec(document.cookie))||void 0===r?void 0:r[1]);)i.push(unescape(s));if(i.length>0&&(o.invitationTokens=i.join(",")),RegExp("^/1/search(/|$)").test(e)){let e=null===(n=/dsc=([^;]+)/.exec(document.cookie))||void 0===n?void 0:n[1];e&&(o.dsc=e)}let l=[];for(let e in o){let t=o[e];l.push([e,encodeURIComponent(t)].join("="))}return[e,l.join("&")].join("?")},load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=(0,l.x)({url:e}),c=l.P[a];if(void 0!==c)return c.used=!0,c.isLoading?c.callbacks.push(t):t(c.error,c.data),(0,s.l)(c);m(e,t,r,n,o,i)},getPreloadTraceId(){let{preloads:e}=(0,o.m)();for(let{url:t,graphQLPayload:r}of e){let e=(0,l.x)({url:t,graphQLPayload:r});if(e in l.P)return l.P[e].traceId}},clear(){for(let e in l.P)p(e)},markComplete(){this.status="complete"},status:"pending"};f.init();let b=window.QuickLoad=f},"./packages/storage/index.ts":(e,t,r)=>{"use strict";r.d(t,{Y6:()=>l,_q:()=>c,yR:()=>d});var n=r("./packages/browser/index.ts");class s{constructor(){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"storage",void 0),this.storage={}}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){return this.storage[e]||null}key(e){return Object.keys(this.storage)[e]||null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t||""}}let o={LOCAL_STORAGE_KEY:"localStorage",SESSION_STORAGE_KEY:"sessionStorage"};function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.LOCAL_STORAGE_KEY;i(this,"storage",void 0),i(this,"listeners",void 0),i(this,"errorListeners",void 0),i(this,"listenersSyncedAcrossBrowser",void 0),i(this,"LISTENER_IGNORABLE_KEY_PREFIXES",/^(awc\.)/),i(this,"onStorage",e=>{let{key:t,oldValue:r,newValue:n}=e;!t||t.match(this.LISTENER_IGNORABLE_KEY_PREFIXES)||this.broadcastChangeFromOtherInstance({key:t,oldValue:r,newValue:n})}),i(this,"getAllKeys",()=>this.storage?Object.keys(this.storage):[]),this.listeners=new Set,this.errorListeners=new Set,this.listenersSyncedAcrossBrowser=new Set,(0,n.oi)()&&!function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!!(e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length)}}(e)?this.storage=new s:this.storage=window[e],window.addEventListener("storage",this.onStorage)}listen(e){this.listeners.add(e)}addErrorListener(e){this.errorListeners.add(e)}removeErrorListener(e){this.errorListeners.delete(e)}listenSyncedAcrossBrowser(e){this.listenersSyncedAcrossBrowser.add(e),this.listen(e)}unlisten(e){this.listeners.delete(e),this.listenersSyncedAcrossBrowser.delete(e)}broadcastLocalChange(e){this.listeners.forEach(t=>{t(e)})}broadcastError(e){this.errorListeners.forEach(t=>{t(e)})}broadcastChangeFromOtherInstance(e){this.listenersSyncedAcrossBrowser.forEach(t=>{t(e)})}isEnabled(){return!!this.storage}set(e,t){try{if(this.storage){let r=this.getRaw(e),n=JSON.stringify(t);this.storage.setItem(e,n),this.broadcastLocalChange({key:e,oldValue:r,newValue:n})}}catch(t){console.warn(t),this.broadcastError({key:e,error:t})}}get(e){let t=null,r=this.getRaw(e);if(r)try{t=JSON.parse(r)}catch(e){console.warn(e)}return t}getRaw(e){return this.storage?this.storage.getItem(e):null}unset(e){this.storage&&null!==this.getRaw(e)&&this.storage.removeItem(e)}}let c=new a(o.LOCAL_STORAGE_KEY),l=new a(o.SESSION_STORAGE_KEY);var u=r("./node_modules/react/index.js");let d=(e,t)=>{let[r,n]=(0,u.useState)(t),s=(0,u.useCallback)(t=>{n(t),null===t?c.unset(e):c.set(e,t)},[e]);return(0,u.useEffect)(()=>{let t=c.get(e);n(null!=t?t:r)},[]),[r,s]}},"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":(e,t,r)=>{var n=r("./node_modules/@babel/runtime/helpers/typeof.js").default;function s(){"use strict";e.exports=s=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function m(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{m({},"")}catch(e){m=function(e,t,r){return e[t]=r}}function p(e,r,n,s){var o,i,c=Object.create((r&&r.prototype instanceof v?r:v).prototype);return a(c,"_invoke",{value:(o=new T(s||[]),i=f,function(r,s){if(i===b)throw Error("Generator is already running");if(i===g){if("throw"===r)throw s;return{value:t,done:!0}}for(o.method=r,o.arg=s;;){var a=o.delegate;if(a){var c=function e(r,n){var s=n.method,o=r.iterator[s];if(o===t)return n.delegate=null,"throw"===s&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==s&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+s+"' method")),y;var i=h(o,r.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[r.resultName]=a.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,y)}(a,o);if(c){if(c===y)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===f)throw i=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=b;var l=h(e,n,o);if("normal"===l.type){if(i=o.done?g:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=g,o.method="throw",o.arg=l.arg)}})}),c}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var f="suspendedStart",b="executing",g="completed",y={};function v(){}function w(){}function C(){}var _={};m(_,l,function(){return this});var A=Object.getPrototypeOf,O=A&&A(A(P([])));O&&O!==o&&i.call(O,l)&&(_=O);var k=C.prototype=v.prototype=Object.create(_);function E(e){["next","throw","return"].forEach(function(t){m(e,t,function(e){return this._invoke(t,e)})})}function I(e,t){var r;a(this,"_invoke",{value:function(s,o){function a(){return new t(function(r,a){!function r(s,o,a,c){var l=h(e[s],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==n(d)&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,a,c)},function(e){r("throw",e,a,c)}):t.resolve(d).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,c)})}c(l.arg)}(s,o,r,a)})}return r=r?r.then(a,a):a()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,o=function r(){for(;++s<e.length;)if(i.call(e,s))return r.value=e[s],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw TypeError(n(e)+" is not iterable")}return w.prototype=C,a(k,"constructor",{value:C,configurable:!0}),a(C,"constructor",{value:w,configurable:!0}),w.displayName=m(C,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,m(e,d,"GeneratorFunction")),e.prototype=Object.create(k),e},r.awrap=function(e){return{__await:e}},E(I.prototype),m(I.prototype,u,function(){return this}),r.AsyncIterator=I,r.async=function(e,t,n,s,o){void 0===o&&(o=Promise);var i=new I(p(e,t,n,s),o);return r.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(k),m(k,d,"Generator"),m(k,l,function(){return this}),m(k,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,s){return a.type="throw",a.arg=e,r.next=n,s&&(r.method="next",r.arg=t),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;j(r)}return s}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/helpers/typeof.js":e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"./node_modules/@babel/runtime/regenerator/index.js":(e,t,r)=>{var n=r("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(e,t,r)=>{"use strict";function n(e,t,r,n,s,o,i){try{var a=e[o](i),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(s,o){var i=e.apply(t,r);function a(e){n(i,s,o,a,c,"next",e)}function c(e){n(i,s,o,a,c,"throw",e)}a(void 0)})}}r.d(t,{A:()=>s})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/construct.js":(e,t,r)=>{"use strict";function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}r.d(t,{A:()=>o});var s=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t,r){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return r&&(0,s.A)(i,r.prototype),i}},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function s(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,(0,n.A)(s.key),s)}}function o(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function s(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":(e,t,r)=>{"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(e,t,r)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(e,t,r)=>{"use strict";function n(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function s(e,t){if(null==e)return{};var r,s,o=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.includes(r)||({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js"),s=r("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function o(e,t){if(t&&("object"==(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,s.A)(e)}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),s=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),o=r("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function i(e,t){return(0,n.A)(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,o,i,a=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw s}}return a}}(e,t)||(0,s.A)(e,t)||(0,o.A)()}},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js"),s=r("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),o=r("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function i(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,s.A)(e)||(0,o.A)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/typeof.js");function s(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=(0,n.A)(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{A:()=>n})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function s(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},"./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),s=r("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"),o=r("./node_modules/@babel/runtime/helpers/esm/construct.js");function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,o.A)(e,arguments,(0,n.A)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.A)(r,e)})(e)}}},e=>{e(e.s="./packages/quickload/src/quickload.ts")}]);
//# sourceMappingURL=quickload.9525058e0f443e745d5d.js.map